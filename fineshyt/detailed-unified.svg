<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: WildcatV2Protocol Pages: 1 -->
<svg width="5259pt" height="2401pt"
 viewBox="0.00 0.00 5259.28 2401.41" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2397.41)">
<title>WildcatV2Protocol</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2397.41 5255.28,-2397.41 5255.28,4 -4,4"/>
<!-- WildcatArchController.sol -->
<g id="node1" class="node">
<title>WildcatArchController.sol</title>
<polygon fill="#4169e1" stroke="black" points="5141.07,-1546.45 4899.57,-1546.45 4895.57,-1542.45 4895.57,-1370.45 5137.07,-1370.45 5141.07,-1374.45 5141.07,-1546.45"/>
<polyline fill="none" stroke="black" points="5137.07,-1542.45 4895.57,-1542.45"/>
<polyline fill="none" stroke="black" points="5137.07,-1542.45 5137.07,-1370.45"/>
<polyline fill="none" stroke="black" points="5137.07,-1542.45 5141.07,-1546.45"/>
<text text-anchor="middle" x="5018.32" y="-1533.9" font-family="Arial" font-size="9.00" fill="white">WildcatArchController.sol</text>
<text text-anchor="middle" x="5018.32" y="-1523.4" font-family="Arial" font-size="9.00" fill="white">├─ registerBorrower() / removeBorrower() [owner]</text>
<text text-anchor="middle" x="5018.32" y="-1512.9" font-family="Arial" font-size="9.00" fill="white">├─ registerControllerFactory() [owner]</text>
<text text-anchor="middle" x="5018.32" y="-1502.4" font-family="Arial" font-size="9.00" fill="white">├─ registerController() [factory]</text>
<text text-anchor="middle" x="5018.32" y="-1491.9" font-family="Arial" font-size="9.00" fill="white">├─ registerMarket() [controller]</text>
<text text-anchor="middle" x="5018.32" y="-1481.4" font-family="Arial" font-size="9.00" fill="white">├─ isRegisteredBorrower() / isRegisteredMarket()</text>
<text text-anchor="middle" x="5018.32" y="-1470.9" font-family="Arial" font-size="9.00" fill="white">├─ blacklistAsset() / removeAssetBlacklist() [owner]</text>
<text text-anchor="middle" x="5018.32" y="-1460.4" font-family="Arial" font-size="9.00" fill="white">├─ setProtocolFeeConfiguration() [owner]</text>
<text text-anchor="middle" x="5018.32" y="-1449.9" font-family="Arial" font-size="9.00" fill="white">├─ getRegisteredBorrowers() / getRegisteredMarkets()</text>
<text text-anchor="middle" x="5018.32" y="-1439.4" font-family="Arial" font-size="9.00" fill="white">├─ registeredBorrowers: mapping</text>
<text text-anchor="middle" x="5018.32" y="-1428.9" font-family="Arial" font-size="9.00" fill="white">├─ registeredControllerFactories: mapping</text>
<text text-anchor="middle" x="5018.32" y="-1418.4" font-family="Arial" font-size="9.00" fill="white">├─ registeredControllers: mapping</text>
<text text-anchor="middle" x="5018.32" y="-1407.9" font-family="Arial" font-size="9.00" fill="white">├─ registeredMarkets: mapping</text>
<text text-anchor="middle" x="5018.32" y="-1397.4" font-family="Arial" font-size="9.00" fill="white">├─ blacklistedAssets: mapping</text>
<text text-anchor="middle" x="5018.32" y="-1386.9" font-family="Arial" font-size="9.00" fill="white">├─ protocolFeeConfiguration: ProtocolFeeConfiguration</text>
<text text-anchor="middle" x="5018.32" y="-1376.4" font-family="Arial" font-size="9.00" fill="white">└─ sphereXEngineSingleton: address</text>
</g>
<!-- IWildcatArchController.sol -->
<g id="node29" class="node">
<title>IWildcatArchController.sol</title>
<polygon fill="#ffd700" stroke="black" points="5073.2,-1237.95 4957.45,-1237.95 4957.45,-1177.45 5079.2,-1177.45 5079.2,-1231.95 5073.2,-1237.95"/>
<polyline fill="none" stroke="black" points="5073.2,-1237.95 5073.2,-1231.95"/>
<polyline fill="none" stroke="black" points="5079.2,-1231.95 5073.2,-1231.95"/>
<text text-anchor="middle" x="5018.32" y="-1225.4" font-family="Arial" font-size="9.00">IWildcatArchController.sol</text>
<text text-anchor="middle" x="5018.32" y="-1214.9" font-family="Arial" font-size="9.00">├─ Registration functions</text>
<text text-anchor="middle" x="5018.32" y="-1204.4" font-family="Arial" font-size="9.00">├─ Blacklist management</text>
<text text-anchor="middle" x="5018.32" y="-1193.9" font-family="Arial" font-size="9.00">├─ Fee configuration</text>
<text text-anchor="middle" x="5018.32" y="-1183.4" font-family="Arial" font-size="9.00">└─ Query functions</text>
</g>
<!-- WildcatArchController.sol&#45;&gt;IWildcatArchController.sol -->
<g id="edge7" class="edge">
<title>WildcatArchController.sol&#45;&gt;IWildcatArchController.sol</title>
<path fill="none" stroke="#808080" stroke-dasharray="1,5" d="M5018.32,-1370.1C5018.32,-1329.08 5018.32,-1282.15 5018.32,-1249.51"/>
<polygon fill="#808080" stroke="#808080" points="5021.82,-1249.68 5018.32,-1239.68 5014.82,-1249.68 5021.82,-1249.68"/>
<text text-anchor="middle" x="5038.57" y="-1330.35" font-family="Arial" font-size="8.00">implements</text>
</g>
<!-- HooksFactory.sol -->
<g id="node2" class="node">
<title>HooksFactory.sol</title>
<polygon fill="#4169e1" stroke="black" points="3717.45,-2014.95 3469.2,-2014.95 3465.2,-2010.95 3465.2,-1838.95 3713.45,-1838.95 3717.45,-1842.95 3717.45,-2014.95"/>
<polyline fill="none" stroke="black" points="3713.45,-2010.95 3465.2,-2010.95"/>
<polyline fill="none" stroke="black" points="3713.45,-2010.95 3713.45,-1838.95"/>
<polyline fill="none" stroke="black" points="3713.45,-2010.95 3717.45,-2014.95"/>
<text text-anchor="middle" x="3591.32" y="-2002.4" font-family="Arial" font-size="9.00" fill="white">HooksFactory.sol</text>
<text text-anchor="middle" x="3591.32" y="-1991.9" font-family="Arial" font-size="9.00" fill="white">├─ addHooksTemplate() [archController]</text>
<text text-anchor="middle" x="3591.32" y="-1981.4" font-family="Arial" font-size="9.00" fill="white">├─ disableHooksTemplate() [archController]</text>
<text text-anchor="middle" x="3591.32" y="-1970.9" font-family="Arial" font-size="9.00" fill="white">├─ deployHooksInstance() [borrower]</text>
<text text-anchor="middle" x="3591.32" y="-1960.4" font-family="Arial" font-size="9.00" fill="white">├─ deployMarket() [borrower]</text>
<text text-anchor="middle" x="3591.32" y="-1949.9" font-family="Arial" font-size="9.00" fill="white">├─ computeHooksAddress()</text>
<text text-anchor="middle" x="3591.32" y="-1939.4" font-family="Arial" font-size="9.00" fill="white">├─ getHooksTemplateDetails()</text>
<text text-anchor="middle" x="3591.32" y="-1928.9" font-family="Arial" font-size="9.00" fill="white">├─ getMarketsForHooksTemplate()</text>
<text text-anchor="middle" x="3591.32" y="-1918.4" font-family="Arial" font-size="9.00" fill="white">├─ getMarketsForBorrower()</text>
<text text-anchor="middle" x="3591.32" y="-1907.9" font-family="Arial" font-size="9.00" fill="white">├─ setProtocolFeeForOriginationFeeAsset() [owner]</text>
<text text-anchor="middle" x="3591.32" y="-1897.4" font-family="Arial" font-size="9.00" fill="white">├─ pushProtocolFeeUpdate() [owner]</text>
<text text-anchor="middle" x="3591.32" y="-1886.9" font-family="Arial" font-size="9.00" fill="white">├─ archController: address</text>
<text text-anchor="middle" x="3591.32" y="-1876.4" font-family="Arial" font-size="9.00" fill="white">├─ hooksTemplates: mapping</text>
<text text-anchor="middle" x="3591.32" y="-1865.9" font-family="Arial" font-size="9.00" fill="white">├─ deployedMarkets: mapping</text>
<text text-anchor="middle" x="3591.32" y="-1855.4" font-family="Arial" font-size="9.00" fill="white">├─ marketCountForBorrower: mapping</text>
<text text-anchor="middle" x="3591.32" y="-1844.9" font-family="Arial" font-size="9.00" fill="white">└─ _tmpMarketParameterStorage: MarketParametersTmp</text>
</g>
<!-- HooksFactory.sol&#45;&gt;WildcatArchController.sol -->
<g id="edge37" class="edge">
<title>HooksFactory.sol&#45;&gt;WildcatArchController.sol</title>
<path fill="none" stroke="#008000" d="M3717.75,-1920.74C3865.16,-1911.71 4114.58,-1887.19 4318.32,-1820.95 4537.64,-1749.65 4572,-1683.96 4777.32,-1578.95 4812.05,-1561.19 4849.76,-1542.3 4884.82,-1524.91"/>
<polygon fill="#008000" stroke="#008000" points="4886.35,-1528.06 4893.76,-1520.48 4883.25,-1521.78 4886.35,-1528.06"/>
<text text-anchor="middle" x="4772.25" y="-1697.22" font-family="Arial" font-size="8.00">5. Validate: check registration</text>
</g>
<!-- WildcatMarket.sol -->
<g id="node3" class="node">
<title>WildcatMarket.sol</title>
<polygon fill="#228b22" stroke="black" points="1503.07,-1793.2 1285.57,-1793.2 1281.57,-1789.2 1281.57,-1606.7 1499.07,-1606.7 1503.07,-1610.7 1503.07,-1793.2"/>
<polyline fill="none" stroke="black" points="1499.07,-1789.2 1281.57,-1789.2"/>
<polyline fill="none" stroke="black" points="1499.07,-1789.2 1499.07,-1606.7"/>
<polyline fill="none" stroke="black" points="1499.07,-1789.2 1503.07,-1793.2"/>
<text text-anchor="middle" x="1392.32" y="-1780.65" font-family="Arial" font-size="9.00" fill="white">WildcatMarket.sol</text>
<text text-anchor="middle" x="1392.32" y="-1770.15" font-family="Arial" font-size="9.00" fill="white">[Main Contract &#45; Inherits All]</text>
<text text-anchor="middle" x="1392.32" y="-1759.65" font-family="Arial" font-size="9.00" fill="white">├─ updateState() [public]</text>
<text text-anchor="middle" x="1392.32" y="-1749.15" font-family="Arial" font-size="9.00" fill="white">├─ deposit(uint256) [public]</text>
<text text-anchor="middle" x="1392.32" y="-1738.65" font-family="Arial" font-size="9.00" fill="white">├─ borrow(uint256) [onlyBorrower]</text>
<text text-anchor="middle" x="1392.32" y="-1728.15" font-family="Arial" font-size="9.00" fill="white">├─ repay(uint256) [public]</text>
<text text-anchor="middle" x="1392.32" y="-1717.65" font-family="Arial" font-size="9.00" fill="white">├─ collectFees() [feeRecipient/borrower]</text>
<text text-anchor="middle" x="1392.32" y="-1707.15" font-family="Arial" font-size="9.00" fill="white">├─ rescueTokens(address) [onlyBorrower]</text>
<text text-anchor="middle" x="1392.32" y="-1696.65" font-family="Arial" font-size="9.00" fill="white">├─ forceBuyBack(address,uint256) [onlyBorrower]</text>
<text text-anchor="middle" x="1392.32" y="-1686.15" font-family="Arial" font-size="9.00" fill="white">├─ closeMarket() [onlyBorrower]</text>
<text text-anchor="middle" x="1392.32" y="-1675.65" font-family="Arial" font-size="9.00" fill="white">├─ asset: address</text>
<text text-anchor="middle" x="1392.32" y="-1665.15" font-family="Arial" font-size="9.00" fill="white">├─ borrower: address</text>
<text text-anchor="middle" x="1392.32" y="-1654.65" font-family="Arial" font-size="9.00" fill="white">├─ hooks: address</text>
<text text-anchor="middle" x="1392.32" y="-1644.15" font-family="Arial" font-size="9.00" fill="white">├─ feeRecipient: address</text>
<text text-anchor="middle" x="1392.32" y="-1633.65" font-family="Arial" font-size="9.00" fill="white">├─ protocolFeeBips: uint16</text>
<text text-anchor="middle" x="1392.32" y="-1623.15" font-family="Arial" font-size="9.00" fill="white">├─ marketToken: string</text>
<text text-anchor="middle" x="1392.32" y="-1612.65" font-family="Arial" font-size="9.00" fill="white">└─ state: MarketState</text>
</g>
<!-- HooksFactory.sol&#45;&gt;WildcatMarket.sol -->
<g id="edge39" class="edge">
<title>HooksFactory.sol&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#ff0000" stroke-width="2" d="M3464.9,-1895.37C3350.53,-1868.9 3177.12,-1831.73 3024.32,-1811.2 2463.5,-1735.84 1786.97,-1711 1514.64,-1703.69"/>
<polygon fill="#ff0000" stroke="#ff0000" stroke-width="2" points="1516.27,-1700.23 1506.18,-1703.47 1516.08,-1707.23 1516.27,-1700.23"/>
<text text-anchor="middle" x="3130.64" y="-1813.35" font-family="Arial" font-size="8.00">7. Create: deploy market</text>
</g>
<!-- AccessControlHooks.sol -->
<g id="node8" class="node">
<title>AccessControlHooks.sol</title>
<path fill="#ff8c00" stroke="black" d="M2004.99,-785.04C2004.99,-785.04 1904.58,-926.33 1904.58,-926.33 1901.11,-931.22 1891.63,-936.11 1885.63,-936.11 1885.63,-936.11 1681.01,-936.11 1681.01,-936.11 1675.01,-936.11 1665.54,-931.22 1662.06,-926.33 1662.06,-926.33 1561.66,-785.04 1561.66,-785.04 1558.18,-780.15 1558.18,-770.37 1561.66,-765.48 1561.66,-765.48 1662.06,-624.19 1662.06,-624.19 1665.54,-619.3 1675.01,-614.41 1681.01,-614.41 1681.01,-614.41 1885.63,-614.41 1885.63,-614.41 1891.63,-614.41 1901.11,-619.3 1904.58,-624.19 1904.58,-624.19 2004.99,-765.48 2004.99,-765.48 2008.47,-770.37 2008.47,-780.15 2004.99,-785.04"/>
<text text-anchor="middle" x="1783.32" y="-861.21" font-family="Arial" font-size="9.00" fill="white">AccessControlHooks.sol</text>
<text text-anchor="middle" x="1783.32" y="-850.71" font-family="Arial" font-size="9.00" fill="white">├─ version() / config()</text>
<text text-anchor="middle" x="1783.32" y="-840.21" font-family="Arial" font-size="9.00" fill="white">├─ onCreateMarket() / onDeposit()</text>
<text text-anchor="middle" x="1783.32" y="-829.71" font-family="Arial" font-size="9.00" fill="white">├─ onQueueWithdrawal() / onExecuteWithdrawal()</text>
<text text-anchor="middle" x="1783.32" y="-819.21" font-family="Arial" font-size="9.00" fill="white">├─ onTransfer() / onBorrow() / onRepay()</text>
<text text-anchor="middle" x="1783.32" y="-808.71" font-family="Arial" font-size="9.00" fill="white">├─ onSetAnnualInterestBips() / onSetReserveRatioBips()</text>
<text text-anchor="middle" x="1783.32" y="-798.21" font-family="Arial" font-size="9.00" fill="white">├─ onSetMaxTotalSupply() / onCloseMarket()</text>
<text text-anchor="middle" x="1783.32" y="-787.71" font-family="Arial" font-size="9.00" fill="white">├─ setMinimumDeposit() [onlyBorrower]</text>
<text text-anchor="middle" x="1783.32" y="-777.21" font-family="Arial" font-size="9.00" fill="white">├─ addRoleProvider() / removeRoleProvider() [onlyBorrower]</text>
<text text-anchor="middle" x="1783.32" y="-766.71" font-family="Arial" font-size="9.00" fill="white">├─ blockFromDeposits() / unblockFromDeposits() [onlyBorrower]</text>
<text text-anchor="middle" x="1783.32" y="-756.21" font-family="Arial" font-size="9.00" fill="white">├─ grantRole() / grantRoles() / revokeRole()</text>
<text text-anchor="middle" x="1783.32" y="-745.71" font-family="Arial" font-size="9.00" fill="white">├─ pullProviderCredential() / validateCredential()</text>
<text text-anchor="middle" x="1783.32" y="-735.21" font-family="Arial" font-size="9.00" fill="white">├─ getRoleProvider() / getPullProviders()</text>
<text text-anchor="middle" x="1783.32" y="-724.71" font-family="Arial" font-size="9.00" fill="white">├─ getHookedMarket() / getLenderStatus()</text>
<text text-anchor="middle" x="1783.32" y="-714.21" font-family="Arial" font-size="9.00" fill="white">├─ _roleProviders: mapping</text>
<text text-anchor="middle" x="1783.32" y="-703.71" font-family="Arial" font-size="9.00" fill="white">├─ _lenderStatus: mapping</text>
<text text-anchor="middle" x="1783.32" y="-693.21" font-family="Arial" font-size="9.00" fill="white">├─ _accountApprovalStatus: mapping</text>
<text text-anchor="middle" x="1783.32" y="-682.71" font-family="Arial" font-size="9.00" fill="white">└─ _pullProviders: address[]</text>
</g>
<!-- HooksFactory.sol&#45;&gt;AccessControlHooks.sol -->
<g id="edge38" class="edge">
<title>HooksFactory.sol&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#ff0000" stroke-width="2" d="M3717.91,-1921.27C3899.23,-1911.5 4218.49,-1881.84 4285.32,-1793.2 4335.23,-1727.02 4313.54,-1684.64 4285.32,-1606.7 4281.78,-1596.91 4275.14,-1597.93 4270.32,-1588.7 4166.1,-1388.7 4268.59,-1271.57 4116.32,-1105.2 4010.95,-990.07 3949.89,-995.2 3799.32,-954.11 3468.95,-863.96 2472.82,-807.98 2016.36,-786.4"/>
<polygon fill="#ff0000" stroke="#ff0000" stroke-width="2" points="2018.19,-782.99 2008.03,-786.01 2017.86,-789.98 2018.19,-782.99"/>
<text text-anchor="middle" x="4313.57" y="-1455.72" font-family="Arial" font-size="8.00">6. Create: deploy hooks instance</text>
</g>
<!-- LibStoredInitCode.sol -->
<g id="node17" class="node">
<title>LibStoredInitCode.sol</title>
<path fill="#87ceeb" stroke="black" d="M3767.75,-1760.45C3767.75,-1760.45 3492,-1760.45 3492,-1760.45 3486,-1760.45 3476.78,-1755.39 3473.55,-1750.33 3473.55,-1750.33 3409.34,-1649.57 3409.34,-1649.57 3406.12,-1644.51 3408.89,-1639.45 3414.89,-1639.45 3414.89,-1639.45 3690.64,-1639.45 3690.64,-1639.45 3696.64,-1639.45 3705.87,-1644.51 3709.09,-1649.57 3709.09,-1649.57 3773.3,-1750.33 3773.3,-1750.33 3776.53,-1755.39 3773.75,-1760.45 3767.75,-1760.45"/>
<text text-anchor="middle" x="3591.32" y="-1717.65" font-family="Arial" font-size="9.00">LibStoredInitCode</text>
<text text-anchor="middle" x="3591.32" y="-1707.15" font-family="Arial" font-size="9.00">├─ create2WithStoredInitCode()</text>
<text text-anchor="middle" x="3591.32" y="-1696.65" font-family="Arial" font-size="9.00">├─ calculateCreate2Address()</text>
<text text-anchor="middle" x="3591.32" y="-1686.15" font-family="Arial" font-size="9.00">├─ deployInitCode() / getInitCodeHash()</text>
<text text-anchor="middle" x="3591.32" y="-1675.65" font-family="Arial" font-size="9.00">└─ CREATE2 deployment utilities</text>
</g>
<!-- HooksFactory.sol&#45;&gt;LibStoredInitCode.sol -->
<g id="edge22" class="edge">
<title>HooksFactory.sol&#45;&gt;LibStoredInitCode.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M3591.32,-1838.64C3591.32,-1816.64 3591.32,-1793.3 3591.32,-1772.2"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="3594.82,-1772.25 3591.32,-1762.25 3587.82,-1772.25 3594.82,-1772.25"/>
<text text-anchor="middle" x="3599.57" y="-1813.35" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- TransientBytesArray.sol -->
<g id="node26" class="node">
<title>TransientBytesArray.sol</title>
<path fill="#dda0dd" stroke="black" d="M3953.64,-1736.69C3953.64,-1736.69 3809.5,-1702.7 3809.5,-1702.7 3803.66,-1701.33 3803.66,-1698.57 3809.5,-1697.19 3809.5,-1697.19 3953.64,-1663.2 3953.64,-1663.2 3959.48,-1661.83 3971.16,-1661.83 3977,-1663.2 3977,-1663.2 4121.14,-1697.19 4121.14,-1697.19 4126.98,-1698.57 4126.98,-1701.33 4121.14,-1702.7 4121.14,-1702.7 3977,-1736.69 3977,-1736.69 3971.16,-1738.07 3959.48,-1738.07 3953.64,-1736.69"/>
<text text-anchor="middle" x="3965.32" y="-1707.15" font-family="Arial" font-size="9.00">TransientBytesArray Type</text>
<text text-anchor="middle" x="3965.32" y="-1696.65" font-family="Arial" font-size="9.00">├─ Transient storage for bytes arrays</text>
<text text-anchor="middle" x="3965.32" y="-1686.15" font-family="Arial" font-size="9.00">└─ Assembly&#45;based implementation</text>
</g>
<!-- HooksFactory.sol&#45;&gt;TransientBytesArray.sol -->
<g id="edge28" class="edge">
<title>HooksFactory.sol&#45;&gt;TransientBytesArray.sol</title>
<path fill="none" stroke="#dda0dd" stroke-dasharray="1,5" d="M3717.94,-1849.77C3782.91,-1810.69 3858.76,-1765.06 3909.18,-1734.73"/>
<polygon fill="#dda0dd" stroke="#dda0dd" points="3910.85,-1737.8 3917.62,-1729.65 3907.24,-1731.81 3910.85,-1737.8"/>
<text text-anchor="middle" x="3786.57" y="-1813.35" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- IHooksFactory.sol -->
<g id="node30" class="node">
<title>IHooksFactory.sol</title>
<polygon fill="#ffd700" stroke="black" points="4270.07,-1730.2 4150.57,-1730.2 4150.57,-1669.7 4276.07,-1669.7 4276.07,-1724.2 4270.07,-1730.2"/>
<polyline fill="none" stroke="black" points="4270.07,-1730.2 4270.07,-1724.2"/>
<polyline fill="none" stroke="black" points="4276.07,-1724.2 4270.07,-1724.2"/>
<text text-anchor="middle" x="4213.32" y="-1717.65" font-family="Arial" font-size="9.00">IHooksFactory.sol</text>
<text text-anchor="middle" x="4213.32" y="-1707.15" font-family="Arial" font-size="9.00">├─ Template management</text>
<text text-anchor="middle" x="4213.32" y="-1696.65" font-family="Arial" font-size="9.00">├─ Deployment functions</text>
<text text-anchor="middle" x="4213.32" y="-1686.15" font-family="Arial" font-size="9.00">├─ Fee update functions</text>
<text text-anchor="middle" x="4213.32" y="-1675.65" font-family="Arial" font-size="9.00">└─ Query functions</text>
</g>
<!-- HooksFactory.sol&#45;&gt;IHooksFactory.sol -->
<g id="edge8" class="edge">
<title>HooksFactory.sol&#45;&gt;IHooksFactory.sol</title>
<path fill="none" stroke="#808080" stroke-dasharray="1,5" d="M3717.89,-1912.55C3855.51,-1896.05 4064.74,-1864.73 4131.32,-1820.95 4160.73,-1801.61 4182.44,-1767.72 4196.1,-1740.88"/>
<polygon fill="#808080" stroke="#808080" points="4199.21,-1742.49 4200.45,-1731.97 4192.92,-1739.42 4199.21,-1742.49"/>
<text text-anchor="middle" x="4164.03" y="-1813.35" font-family="Arial" font-size="8.00">implements</text>
</g>
<!-- SphereXProtectedRegisteredBase.sol -->
<g id="node38" class="node">
<title>SphereXProtectedRegisteredBase.sol</title>
<path fill="#9370db" stroke="black" d="M2848.67,-1304.67C2848.67,-1304.67 2672.47,-1213.23 2672.47,-1213.23 2667.15,-1210.46 2667.15,-1204.94 2672.47,-1202.17 2672.47,-1202.17 2848.67,-1110.73 2848.67,-1110.73 2854,-1107.96 2864.65,-1107.96 2869.97,-1110.73 2869.97,-1110.73 3046.17,-1202.17 3046.17,-1202.17 3051.5,-1204.94 3051.5,-1210.46 3046.17,-1213.23 3046.17,-1213.23 2869.97,-1304.67 2869.97,-1304.67 2864.65,-1307.44 2854,-1307.44 2848.67,-1304.67"/>
<text text-anchor="middle" x="2859.32" y="-1246.4" font-family="Arial" font-size="9.00" fill="white">SphereXProtectedRegisteredBase</text>
<text text-anchor="middle" x="2859.32" y="-1235.9" font-family="Arial" font-size="9.00" fill="white">├─ _sphereXEngine: address</text>
<text text-anchor="middle" x="2859.32" y="-1225.4" font-family="Arial" font-size="9.00" fill="white">├─ _registeredProtectedFunctions: mapping</text>
<text text-anchor="middle" x="2859.32" y="-1214.9" font-family="Arial" font-size="9.00" fill="white">├─ sphereXValidatePre() [modifier]</text>
<text text-anchor="middle" x="2859.32" y="-1204.4" font-family="Arial" font-size="9.00" fill="white">├─ sphereXValidatePost() [modifier]</text>
<text text-anchor="middle" x="2859.32" y="-1193.9" font-family="Arial" font-size="9.00" fill="white">├─ _sphereXValidateInternalPre()</text>
<text text-anchor="middle" x="2859.32" y="-1183.4" font-family="Arial" font-size="9.00" fill="white">├─ _sphereXValidateInternalPost()</text>
<text text-anchor="middle" x="2859.32" y="-1172.9" font-family="Arial" font-size="9.00" fill="white">├─ _addProtectedFunction()</text>
<text text-anchor="middle" x="2859.32" y="-1162.4" font-family="Arial" font-size="9.00" fill="white">└─ Real&#45;time transaction protection</text>
</g>
<!-- HooksFactory.sol&#45;&gt;SphereXProtectedRegisteredBase.sol -->
<g id="edge6" class="edge">
<title>HooksFactory.sol&#45;&gt;SphereXProtectedRegisteredBase.sol</title>
<path fill="none" stroke="#9370db" stroke-dasharray="5,2" d="M3464.79,-1867.24C3436.6,-1847.85 3410.35,-1823.33 3394.32,-1793.2 3374.86,-1756.61 3365.66,-1636.63 3394.32,-1606.7 3410.32,-1589.99 3787.24,-1590.23 3810.32,-1588.7 3879.34,-1584.12 4073.65,-1611.99 4120.32,-1560.95 4181.81,-1493.71 4180.9,-1424.01 4120.32,-1355.95 4102.44,-1335.86 3378.17,-1260.74 3035.54,-1226.24"/>
<polygon fill="#9370db" stroke="#9370db" points="3036.07,-1222.77 3025.77,-1225.25 3035.37,-1229.74 3036.07,-1222.77"/>
<text text-anchor="middle" x="4102.04" y="-1581.1" font-family="Arial" font-size="8.00">inherits</text>
</g>
<!-- Fee Recipient -->
<g id="node50" class="node">
<title>Fee Recipient</title>
<ellipse fill="#c0c0c0" stroke="black" stroke-dasharray="5,2" cx="3818.32" cy="-1458.45" rx="94.05" ry="35.36"/>
<text text-anchor="middle" x="3818.32" y="-1470.9" font-family="Arial" font-size="9.00">Fee Recipient</text>
<text text-anchor="middle" x="3818.32" y="-1460.4" font-family="Arial" font-size="9.00">├─ Protocol fee collection</text>
<text text-anchor="middle" x="3818.32" y="-1449.9" font-family="Arial" font-size="9.00">├─ Origination fee collection</text>
<text text-anchor="middle" x="3818.32" y="-1439.4" font-family="Arial" font-size="9.00">└─ Fee withdrawal</text>
</g>
<!-- HooksFactory.sol&#45;&gt;Fee Recipient -->
<g id="edge74" class="edge">
<title>HooksFactory.sol&#45;&gt;Fee Recipient</title>
<path fill="none" stroke="#daa520" d="M3464.98,-1904.12C3400.79,-1885.94 3328.3,-1852.91 3289.32,-1793.2 3244.01,-1723.79 3231.77,-1666.35 3289.32,-1606.7 3328.08,-1566.53 3748.65,-1624.67 3791.32,-1588.7 3814.97,-1568.77 3821.19,-1533.95 3821.79,-1505.47"/>
<polygon fill="#daa520" stroke="#daa520" points="3825.29,-1505.61 3821.75,-1495.62 3818.29,-1505.64 3825.29,-1505.61"/>
<text text-anchor="middle" x="3325.32" y="-1697.22" font-family="Arial" font-size="8.00">Pay: origination fees</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatArchController.sol -->
<g id="edge40" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatArchController.sol</title>
<path fill="none" stroke="#800080" d="M1503.44,-1692.07C1791.99,-1674.51 2588.9,-1627.91 3253.32,-1606.7 3532.99,-1597.77 4234.35,-1620.64 4512.32,-1588.7 4532.55,-1586.38 4536.94,-1581.93 4557.07,-1578.95 4656.86,-1564.18 4685.43,-1585.27 4783.32,-1560.95 4817.18,-1552.54 4852.37,-1539.74 4884.9,-1526.04"/>
<polygon fill="#800080" stroke="#800080" points="4886.15,-1529.31 4893.97,-1522.15 4883.4,-1522.87 4886.15,-1529.31"/>
<text text-anchor="middle" x="4607.7" y="-1581.1" font-family="Arial" font-size="8.00">8. Register: registerMarket()</text>
</g>
<!-- WildcatMarketBase.sol -->
<g id="node4" class="node">
<title>WildcatMarketBase.sol</title>
<path fill="#32cd32" stroke="black" d="M1251.45,-1546.45C1251.45,-1546.45 1023.2,-1546.45 1023.2,-1546.45 1017.2,-1546.45 1011.2,-1540.45 1011.2,-1534.45 1011.2,-1534.45 1011.2,-1382.45 1011.2,-1382.45 1011.2,-1376.45 1017.2,-1370.45 1023.2,-1370.45 1023.2,-1370.45 1251.45,-1370.45 1251.45,-1370.45 1257.45,-1370.45 1263.45,-1376.45 1263.45,-1382.45 1263.45,-1382.45 1263.45,-1534.45 1263.45,-1534.45 1263.45,-1540.45 1257.45,-1546.45 1251.45,-1546.45"/>
<text text-anchor="middle" x="1137.32" y="-1533.9" font-family="Arial" font-size="9.00" fill="white">WildcatMarketBase.sol</text>
<text text-anchor="middle" x="1137.32" y="-1523.4" font-family="Arial" font-size="9.00" fill="white">├─ version() / name() / symbol()</text>
<text text-anchor="middle" x="1137.32" y="-1512.9" font-family="Arial" font-size="9.00" fill="white">├─ archController() / asset() / borrower()</text>
<text text-anchor="middle" x="1137.32" y="-1502.4" font-family="Arial" font-size="9.00" fill="white">├─ _getUpdatedState() [internal]</text>
<text text-anchor="middle" x="1137.32" y="-1491.9" font-family="Arial" font-size="9.00" fill="white">├─ _writeState() [internal]</text>
<text text-anchor="middle" x="1137.32" y="-1481.4" font-family="Arial" font-size="9.00" fill="white">├─ currentState() / previousState()</text>
<text text-anchor="middle" x="1137.32" y="-1470.9" font-family="Arial" font-size="9.00" fill="white">├─ totalSupply() / scaledTotalSupply()</text>
<text text-anchor="middle" x="1137.32" y="-1460.4" font-family="Arial" font-size="9.00" fill="white">├─ scaledBalanceOf(address)</text>
<text text-anchor="middle" x="1137.32" y="-1449.9" font-family="Arial" font-size="9.00" fill="white">├─ scaleFactor() / liquidityRequired()</text>
<text text-anchor="middle" x="1137.32" y="-1439.4" font-family="Arial" font-size="9.00" fill="white">├─ coverageLiquidity() / borrowableAssets()</text>
<text text-anchor="middle" x="1137.32" y="-1428.9" font-family="Arial" font-size="9.00" fill="white">├─ totalDebts() / accruedProtocolFees()</text>
<text text-anchor="middle" x="1137.32" y="-1418.4" font-family="Arial" font-size="9.00" fill="white">├─ withdrawableProtocolFees()</text>
<text text-anchor="middle" x="1137.32" y="-1407.9" font-family="Arial" font-size="9.00" fill="white">├─ _tmpMarketParameterStorage: MarketParametersTmp</text>
<text text-anchor="middle" x="1137.32" y="-1397.4" font-family="Arial" font-size="9.00" fill="white">├─ previousState: MarketState</text>
<text text-anchor="middle" x="1137.32" y="-1386.9" font-family="Arial" font-size="9.00" fill="white">├─ _accounts: mapping(address =&gt; Account)</text>
<text text-anchor="middle" x="1137.32" y="-1376.4" font-family="Arial" font-size="9.00" fill="white">└─ _accountsArray: EnumerableSet.AddressSet</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatMarketBase.sol -->
<g id="edge1" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatMarketBase.sol</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M1281.24,-1627.86C1265,-1615.6 1248.99,-1602.37 1234.82,-1588.7 1224.35,-1578.59 1214.12,-1567.28 1204.47,-1555.67"/>
<polygon fill="#0000ff" stroke="#0000ff" points="1207.19,-1553.47 1198.16,-1547.92 1201.76,-1557.88 1207.19,-1553.47"/>
<text text-anchor="middle" x="1247.57" y="-1581.1" font-family="Arial" font-size="8.00">inherits</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatMarketBase.sol -->
<g id="edge55" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatMarketBase.sol</title>
<path fill="none" stroke="#ffa500" d="M1293.73,-1606.35C1275.63,-1589.34 1256.69,-1571.56 1238.51,-1554.49"/>
<polygon fill="#ffa500" stroke="#ffa500" points="1241,-1552.02 1231.32,-1547.73 1236.21,-1557.13 1241,-1552.02"/>
<text text-anchor="middle" x="1319.72" y="-1581.1" font-family="Arial" font-size="8.00">State: _getUpdatedState()</text>
</g>
<!-- WildcatMarketConfig.sol -->
<g id="node5" class="node">
<title>WildcatMarketConfig.sol</title>
<path fill="#32cd32" stroke="black" d="M507.95,-1520.2C507.95,-1520.2 270.7,-1520.2 270.7,-1520.2 264.7,-1520.2 258.7,-1514.2 258.7,-1508.2 258.7,-1508.2 258.7,-1408.7 258.7,-1408.7 258.7,-1402.7 264.7,-1396.7 270.7,-1396.7 270.7,-1396.7 507.95,-1396.7 507.95,-1396.7 513.95,-1396.7 519.95,-1402.7 519.95,-1408.7 519.95,-1408.7 519.95,-1508.2 519.95,-1508.2 519.95,-1514.2 513.95,-1520.2 507.95,-1520.2"/>
<text text-anchor="middle" x="389.32" y="-1507.65" font-family="Arial" font-size="9.00" fill="white">WildcatMarketConfig.sol</text>
<text text-anchor="middle" x="389.32" y="-1497.15" font-family="Arial" font-size="9.00" fill="white">├─ isClosed() / maxTotalSupply()</text>
<text text-anchor="middle" x="389.32" y="-1486.65" font-family="Arial" font-size="9.00" fill="white">├─ annualInterestBips() / reserveRatioBips()</text>
<text text-anchor="middle" x="389.32" y="-1476.15" font-family="Arial" font-size="9.00" fill="white">├─ maximumDeposit() [view]</text>
<text text-anchor="middle" x="389.32" y="-1465.65" font-family="Arial" font-size="9.00" fill="white">├─ setAnnualInterestBips(uint16) [onlyBorrower]</text>
<text text-anchor="middle" x="389.32" y="-1455.15" font-family="Arial" font-size="9.00" fill="white">├─ setReserveRatioBips(uint16) [onlyBorrower]</text>
<text text-anchor="middle" x="389.32" y="-1444.65" font-family="Arial" font-size="9.00" fill="white">├─ setMaxTotalSupply(uint128) [onlyBorrower]</text>
<text text-anchor="middle" x="389.32" y="-1434.15" font-family="Arial" font-size="9.00" fill="white">├─ setAnnualInterestAndReserveRatioBips() [onlyBorrower]</text>
<text text-anchor="middle" x="389.32" y="-1423.65" font-family="Arial" font-size="9.00" fill="white">├─ updateAccountAuthorization()</text>
<text text-anchor="middle" x="389.32" y="-1413.15" font-family="Arial" font-size="9.00" fill="white">├─ nukeFromOrbit(address) [emergency]</text>
<text text-anchor="middle" x="389.32" y="-1402.65" font-family="Arial" font-size="9.00" fill="white">└─ Internal: _setAnnualInterestBips()</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatMarketConfig.sol -->
<g id="edge2" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatMarketConfig.sol</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M1281.46,-1668.17C1209.45,-1647.44 1113.89,-1618.52 1030.82,-1588.7 1020.18,-1584.88 1018.37,-1581.37 1007.32,-1578.95 904.57,-1556.44 634.03,-1594.47 534.32,-1560.95 511.44,-1553.26 488.95,-1540.73 468.76,-1527.05"/>
<polygon fill="#0000ff" stroke="#0000ff" points="470.8,-1524.2 460.59,-1521.35 466.79,-1529.94 470.8,-1524.2"/>
<text text-anchor="middle" x="1043.57" y="-1581.1" font-family="Arial" font-size="8.00">inherits</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatMarketConfig.sol -->
<g id="edge89" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatMarketConfig.sol</title>
<path fill="none" stroke="#32cd32" d="M1281.15,-1661.37C1221.22,-1640.69 1146.16,-1614.14 1079.82,-1588.7 1069.27,-1584.65 1067.37,-1581.35 1056.32,-1578.95 942.9,-1554.31 644.41,-1597.75 534.32,-1560.95 511.43,-1553.3 488.93,-1540.78 468.74,-1527.11"/>
<polygon fill="#32cd32" stroke="#32cd32" points="470.78,-1524.26 460.57,-1521.41 466.77,-1530 470.78,-1524.26"/>
<text text-anchor="middle" x="1133.07" y="-1581.1" font-family="Arial" font-size="8.00">Update: account authorization</text>
</g>
<!-- WildcatMarketToken.sol -->
<g id="node6" class="node">
<title>WildcatMarketToken.sol</title>
<path fill="#32cd32" stroke="black" d="M2631.7,-1274.7C2631.7,-1274.7 2464.95,-1274.7 2464.95,-1274.7 2458.95,-1274.7 2452.95,-1268.7 2452.95,-1262.7 2452.95,-1262.7 2452.95,-1152.7 2452.95,-1152.7 2452.95,-1146.7 2458.95,-1140.7 2464.95,-1140.7 2464.95,-1140.7 2631.7,-1140.7 2631.7,-1140.7 2637.7,-1140.7 2643.7,-1146.7 2643.7,-1152.7 2643.7,-1152.7 2643.7,-1262.7 2643.7,-1262.7 2643.7,-1268.7 2637.7,-1274.7 2631.7,-1274.7"/>
<text text-anchor="middle" x="2548.32" y="-1262.15" font-family="Arial" font-size="9.00" fill="white">WildcatMarketToken.sol</text>
<text text-anchor="middle" x="2548.32" y="-1251.65" font-family="Arial" font-size="9.00" fill="white">├─ balanceOf(address) [override]</text>
<text text-anchor="middle" x="2548.32" y="-1241.15" font-family="Arial" font-size="9.00" fill="white">├─ totalSupply() [override]</text>
<text text-anchor="middle" x="2548.32" y="-1230.65" font-family="Arial" font-size="9.00" fill="white">├─ allowance(address,address)</text>
<text text-anchor="middle" x="2548.32" y="-1220.15" font-family="Arial" font-size="9.00" fill="white">├─ approve(address,uint256)</text>
<text text-anchor="middle" x="2548.32" y="-1209.65" font-family="Arial" font-size="9.00" fill="white">├─ transfer(address,uint256)</text>
<text text-anchor="middle" x="2548.32" y="-1199.15" font-family="Arial" font-size="9.00" fill="white">├─ transferFrom(address,address,uint256)</text>
<text text-anchor="middle" x="2548.32" y="-1188.65" font-family="Arial" font-size="9.00" fill="white">├─ _getAccountWithRole(address)</text>
<text text-anchor="middle" x="2548.32" y="-1178.15" font-family="Arial" font-size="9.00" fill="white">├─ _transfer() [internal hook&#45;enabled]</text>
<text text-anchor="middle" x="2548.32" y="-1167.65" font-family="Arial" font-size="9.00" fill="white">├─ _scaledBalances: mapping</text>
<text text-anchor="middle" x="2548.32" y="-1157.15" font-family="Arial" font-size="9.00" fill="white">├─ _allowances: mapping</text>
<text text-anchor="middle" x="2548.32" y="-1146.65" font-family="Arial" font-size="9.00" fill="white">└─ Account struct with auth fields</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatMarketToken.sol -->
<g id="edge3" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatMarketToken.sol</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M1376.63,-1606.56C1368.87,-1534.5 1368.14,-1433.9 1406.82,-1355.95 1415.42,-1338.63 1422.19,-1334.92 1440.32,-1328.2 1544.95,-1289.43 2341.37,-1353.19 2444.32,-1310.2 2459.79,-1303.74 2474.24,-1293.8 2487.15,-1282.61"/>
<polygon fill="#0000ff" stroke="#0000ff" points="2489.24,-1285.44 2494.29,-1276.12 2484.53,-1280.26 2489.24,-1285.44"/>
<text text-anchor="middle" x="1419.57" y="-1455.72" font-family="Arial" font-size="8.00">inherits</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatMarketToken.sol -->
<g id="edge57" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatMarketToken.sol</title>
<path fill="none" stroke="#ffa500" d="M1420.59,-1606.52C1424.8,-1591.36 1428.88,-1575.77 1432.32,-1560.95 1456.55,-1456.79 1396.15,-1372.85 1493.32,-1328.2 1589.36,-1284.07 2346.82,-1350.97 2444.32,-1310.2 2459.79,-1303.73 2474.23,-1293.78 2487.14,-1282.6"/>
<polygon fill="#ffa500" stroke="#ffa500" points="2489.24,-1285.43 2494.28,-1276.11 2484.53,-1280.25 2489.24,-1285.43"/>
<text text-anchor="middle" x="1489.87" y="-1455.72" font-family="Arial" font-size="8.00">Transfer: _transfer()</text>
</g>
<!-- WildcatMarketWithdrawals.sol -->
<g id="node7" class="node">
<title>WildcatMarketWithdrawals.sol</title>
<path fill="#32cd32" stroke="black" d="M4054.2,-1274.7C4054.2,-1274.7 3842.45,-1274.7 3842.45,-1274.7 3836.45,-1274.7 3830.45,-1268.7 3830.45,-1262.7 3830.45,-1262.7 3830.45,-1152.7 3830.45,-1152.7 3830.45,-1146.7 3836.45,-1140.7 3842.45,-1140.7 3842.45,-1140.7 4054.2,-1140.7 4054.2,-1140.7 4060.2,-1140.7 4066.2,-1146.7 4066.2,-1152.7 4066.2,-1152.7 4066.2,-1262.7 4066.2,-1262.7 4066.2,-1268.7 4060.2,-1274.7 4054.2,-1274.7"/>
<text text-anchor="middle" x="3948.32" y="-1262.15" font-family="Arial" font-size="9.00" fill="white">WildcatMarketWithdrawals.sol</text>
<text text-anchor="middle" x="3948.32" y="-1251.65" font-family="Arial" font-size="9.00" fill="white">├─ queueWithdrawal(uint128) [hook&#45;enabled]</text>
<text text-anchor="middle" x="3948.32" y="-1241.15" font-family="Arial" font-size="9.00" fill="white">├─ executeWithdrawal(uint32,uint128)</text>
<text text-anchor="middle" x="3948.32" y="-1230.65" font-family="Arial" font-size="9.00" fill="white">├─ processUnpaidWithdrawalBatch(uint32)</text>
<text text-anchor="middle" x="3948.32" y="-1220.15" font-family="Arial" font-size="9.00" fill="white">├─ getWithdrawalBatch(uint32)</text>
<text text-anchor="middle" x="3948.32" y="-1209.65" font-family="Arial" font-size="9.00" fill="white">├─ getAccountWithdrawalStatus(address,uint32)</text>
<text text-anchor="middle" x="3948.32" y="-1199.15" font-family="Arial" font-size="9.00" fill="white">├─ getAvailableWithdrawalAmount(address,uint32)</text>
<text text-anchor="middle" x="3948.32" y="-1188.65" font-family="Arial" font-size="9.00" fill="white">├─ getUnpaidBatchExpiries()</text>
<text text-anchor="middle" x="3948.32" y="-1178.15" font-family="Arial" font-size="9.00" fill="white">├─ _withdrawalData: mapping</text>
<text text-anchor="middle" x="3948.32" y="-1167.65" font-family="Arial" font-size="9.00" fill="white">├─ _withdrawalBatches: mapping</text>
<text text-anchor="middle" x="3948.32" y="-1157.15" font-family="Arial" font-size="9.00" fill="white">├─ _unpaidWithdrawalBatchExpiries: EnumerableSet</text>
<text text-anchor="middle" x="3948.32" y="-1146.65" font-family="Arial" font-size="9.00" fill="white">└─ WithdrawalBatch / AccountWithdrawal structs</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatMarketWithdrawals.sol -->
<g id="edge4" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatMarketWithdrawals.sol</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M1503.31,-1692.78C1791.06,-1676.92 2584.82,-1634.08 3246.32,-1606.7 3488.47,-1596.68 3550.76,-1618.11 3791.32,-1588.7 3849.97,-1581.53 3882.43,-1605.42 3921.32,-1560.95 3955.83,-1521.49 3956.29,-1377.67 3952.79,-1286.45"/>
<polygon fill="#0000ff" stroke="#0000ff" points="3956.29,-1286.41 3952.38,-1276.56 3949.3,-1286.7 3956.29,-1286.41"/>
<text text-anchor="middle" x="3966.96" y="-1455.72" font-family="Arial" font-size="8.00">inherits</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;WildcatMarketWithdrawals.sol -->
<g id="edge58" class="edge">
<title>WildcatMarket.sol&#45;&gt;WildcatMarketWithdrawals.sol</title>
<path fill="none" stroke="#ffa500" d="M1503.57,-1692.62C1791.52,-1676.42 2584.97,-1632.86 3246.32,-1606.7 3518.67,-1595.93 3588.88,-1622.62 3859.32,-1588.7 3915.36,-1581.67 3948.02,-1605.03 3983.32,-1560.95 4045.46,-1483.37 4015.11,-1363.21 3984.34,-1285.25"/>
<polygon fill="#ffa500" stroke="#ffa500" points="3987.76,-1284.37 3980.77,-1276.41 3981.27,-1286.99 3987.76,-1284.37"/>
<text text-anchor="middle" x="4067.87" y="-1455.72" font-family="Arial" font-size="8.00">Queue: queueWithdrawal()</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;AccessControlHooks.sol -->
<g id="edge44" class="edge">
<title>WildcatMarket.sol&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#008000" d="M1503.56,-1692.29C1791.48,-1675.3 2584.87,-1630.02 3246.32,-1606.7 3270.37,-1605.85 4093.25,-1603.36 4112.32,-1588.7 4122.5,-1580.88 4118.53,-1573.66 4120.32,-1560.95 4134.56,-1460.18 4145.57,-1178.84 4075.32,-1105.2 3933.83,-956.87 2562.78,-836.09 2011.33,-793.12"/>
<polygon fill="#008000" stroke="#008000" points="2011.81,-789.65 2001.57,-792.36 2011.26,-796.62 2011.81,-789.65"/>
<text text-anchor="middle" x="4162.65" y="-1330.35" font-family="Arial" font-size="8.00">Hook: onDeposit()</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;AccessControlHooks.sol -->
<g id="edge50" class="edge">
<title>WildcatMarket.sol&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#008000" d="M1281.22,-1622.61C1251.56,-1605.54 1218.72,-1589.42 1186.32,-1578.95 1147.23,-1566.32 1036.6,-1583.61 1002.32,-1560.95 914.1,-1502.63 793.24,-1182.58 865.32,-1105.2 884.61,-1084.5 1091.63,-1092.97 1119.32,-1087.2 1316.4,-1046.14 1366.55,-1026.69 1546.32,-936.11 1571.97,-923.19 1598.13,-907.94 1623.26,-892.08"/>
<polygon fill="#008000" stroke="#008000" points="1625.01,-895.12 1631.56,-886.79 1621.24,-889.22 1625.01,-895.12"/>
<text text-anchor="middle" x="926.99" y="-1330.35" font-family="Arial" font-size="8.00">Hook: onBorrow() / onRepay()</text>
</g>
<!-- LibERC20.sol -->
<g id="node20" class="node">
<title>LibERC20.sol</title>
<path fill="#87ceeb" stroke="black" d="M1991.2,-1518.95C1991.2,-1518.95 1729.06,-1518.95 1729.06,-1518.95 1723.06,-1518.95 1713.94,-1513.82 1710.82,-1508.7 1710.82,-1508.7 1649.68,-1408.2 1649.68,-1408.2 1646.57,-1403.08 1649.45,-1397.95 1655.45,-1397.95 1655.45,-1397.95 1917.59,-1397.95 1917.59,-1397.95 1923.59,-1397.95 1932.71,-1403.08 1935.83,-1408.2 1935.83,-1408.2 1996.96,-1508.7 1996.96,-1508.7 2000.08,-1513.82 1997.2,-1518.95 1991.2,-1518.95"/>
<text text-anchor="middle" x="1823.32" y="-1476.15" font-family="Arial" font-size="9.00">LibERC20 Library</text>
<text text-anchor="middle" x="1823.32" y="-1465.65" font-family="Arial" font-size="9.00">├─ safeTransfer() / safeTransferFrom()</text>
<text text-anchor="middle" x="1823.32" y="-1455.15" font-family="Arial" font-size="9.00">├─ safeTransferAll() [for rescue]</text>
<text text-anchor="middle" x="1823.32" y="-1444.65" font-family="Arial" font-size="9.00">├─ balanceOf() / allowance()</text>
<text text-anchor="middle" x="1823.32" y="-1434.15" font-family="Arial" font-size="9.00">└─ Safe ERC20 operations</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;LibERC20.sol -->
<g id="edge20" class="edge">
<title>WildcatMarket.sol&#45;&gt;LibERC20.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M1503.32,-1637.27C1565.58,-1602.67 1643.21,-1559.54 1706.41,-1524.42"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="1708.06,-1527.5 1715.1,-1519.59 1704.66,-1521.38 1708.06,-1527.5"/>
<text text-anchor="middle" x="1616.07" y="-1581.1" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- BoolUtils.sol -->
<g id="node21" class="node">
<title>BoolUtils.sol</title>
<path fill="#87ceeb" stroke="black" d="M2217,-1497.95C2217,-1497.95 2076.07,-1497.95 2076.07,-1497.95 2070.07,-1497.95 2061.24,-1492.66 2058.4,-1487.38 2058.4,-1487.38 2027.33,-1429.52 2027.33,-1429.52 2024.49,-1424.24 2027.65,-1418.95 2033.65,-1418.95 2033.65,-1418.95 2174.57,-1418.95 2174.57,-1418.95 2180.57,-1418.95 2189.41,-1424.24 2192.25,-1429.52 2192.25,-1429.52 2223.32,-1487.38 2223.32,-1487.38 2226.16,-1492.66 2223,-1497.95 2217,-1497.95"/>
<text text-anchor="middle" x="2125.32" y="-1465.65" font-family="Arial" font-size="9.00">BoolUtils Library</text>
<text text-anchor="middle" x="2125.32" y="-1455.15" font-family="Arial" font-size="9.00">├─ and() / or() / not()</text>
<text text-anchor="middle" x="2125.32" y="-1444.65" font-family="Arial" font-size="9.00">└─ Boolean utilities</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;BoolUtils.sol -->
<g id="edge21" class="edge">
<title>WildcatMarket.sol&#45;&gt;BoolUtils.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M1503.35,-1691.3C1632.07,-1678.68 1847.61,-1645.74 2012.32,-1560.95 2038.8,-1547.32 2063.91,-1525.96 2083.71,-1506.34"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="2085.99,-1509.02 2090.51,-1499.44 2081,-1504.1 2085.99,-1509.02"/>
<text text-anchor="middle" x="1974.23" y="-1581.1" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- HooksConfig.sol -->
<g id="node23" class="node">
<title>HooksConfig.sol</title>
<path fill="#dda0dd" stroke="black" d="M2442.58,-1555.61C2442.58,-1555.61 2257.57,-1463.78 2257.57,-1463.78 2252.2,-1461.12 2252.2,-1455.78 2257.57,-1453.11 2257.57,-1453.11 2442.58,-1361.28 2442.58,-1361.28 2447.95,-1358.62 2458.7,-1358.62 2464.07,-1361.28 2464.07,-1361.28 2649.08,-1453.11 2649.08,-1453.11 2654.45,-1455.78 2654.45,-1461.12 2649.08,-1463.78 2649.08,-1463.78 2464.07,-1555.61 2464.07,-1555.61 2458.7,-1558.28 2447.95,-1558.28 2442.58,-1555.61"/>
<text text-anchor="middle" x="2453.32" y="-1497.15" font-family="Arial" font-size="9.00">HooksConfig Type</text>
<text text-anchor="middle" x="2453.32" y="-1486.65" font-family="Arial" font-size="9.00">├─ useOnDeposit / useOnQueueWithdrawal</text>
<text text-anchor="middle" x="2453.32" y="-1476.15" font-family="Arial" font-size="9.00">├─ useOnExecuteWithdrawal / useOnTransfer</text>
<text text-anchor="middle" x="2453.32" y="-1465.65" font-family="Arial" font-size="9.00">├─ useOnBorrow / useOnRepay</text>
<text text-anchor="middle" x="2453.32" y="-1455.15" font-family="Arial" font-size="9.00">├─ useOnSetAnnualInterestBips</text>
<text text-anchor="middle" x="2453.32" y="-1444.65" font-family="Arial" font-size="9.00">├─ useOnSetReserveRatioBips</text>
<text text-anchor="middle" x="2453.32" y="-1434.15" font-family="Arial" font-size="9.00">├─ useOnSetMaxTotalSupply</text>
<text text-anchor="middle" x="2453.32" y="-1423.65" font-family="Arial" font-size="9.00">├─ useOnCloseMarket / useOnNukeFromOrbit</text>
<text text-anchor="middle" x="2453.32" y="-1413.15" font-family="Arial" font-size="9.00">└─ useOnSetProtocolFeeBips</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;HooksConfig.sol -->
<g id="edge25" class="edge">
<title>WildcatMarket.sol&#45;&gt;HooksConfig.sol</title>
<path fill="none" stroke="#dda0dd" stroke-dasharray="1,5" d="M1503.42,-1690.77C1667.32,-1676.49 1982.17,-1640.57 2238.32,-1560.95 2274.13,-1549.82 2311.61,-1533.8 2345.05,-1517.77"/>
<polygon fill="#dda0dd" stroke="#dda0dd" points="2346.46,-1520.98 2353.93,-1513.46 2343.41,-1514.68 2346.46,-1520.98"/>
<text text-anchor="middle" x="2179.94" y="-1581.1" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- IMarketEventsAndErrors.sol -->
<g id="node32" class="node">
<title>IMarketEventsAndErrors.sol</title>
<polygon fill="#ffd700" stroke="black" points="2816.82,-1499.2 2677.82,-1499.2 2677.82,-1417.7 2822.82,-1417.7 2822.82,-1493.2 2816.82,-1499.2"/>
<polyline fill="none" stroke="black" points="2816.82,-1499.2 2816.82,-1493.2"/>
<polyline fill="none" stroke="black" points="2822.82,-1493.2 2816.82,-1493.2"/>
<text text-anchor="middle" x="2750.32" y="-1486.65" font-family="Arial" font-size="9.00">IMarketEventsAndErrors.sol</text>
<text text-anchor="middle" x="2750.32" y="-1476.15" font-family="Arial" font-size="9.00">├─ All market events</text>
<text text-anchor="middle" x="2750.32" y="-1465.65" font-family="Arial" font-size="9.00">├─ All error definitions</text>
<text text-anchor="middle" x="2750.32" y="-1455.15" font-family="Arial" font-size="9.00">├─ Deposit / Withdrawal events</text>
<text text-anchor="middle" x="2750.32" y="-1444.65" font-family="Arial" font-size="9.00">├─ Borrow / Repay events</text>
<text text-anchor="middle" x="2750.32" y="-1434.15" font-family="Arial" font-size="9.00">├─ State change events</text>
<text text-anchor="middle" x="2750.32" y="-1423.65" font-family="Arial" font-size="9.00">└─ Error types</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;IMarketEventsAndErrors.sol -->
<g id="edge12" class="edge">
<title>WildcatMarket.sol&#45;&gt;IMarketEventsAndErrors.sol</title>
<path fill="none" stroke="#808080" stroke-dasharray="1,5" d="M1503.43,-1697.67C1775.73,-1692.85 2468.63,-1669.91 2668.32,-1560.95 2690.28,-1548.97 2708.56,-1528.44 2722.24,-1508.96"/>
<polygon fill="#808080" stroke="#808080" points="2725.06,-1511.03 2727.74,-1500.78 2719.25,-1507.13 2725.06,-1511.03"/>
<text text-anchor="middle" x="2635.52" y="-1581.1" font-family="Arial" font-size="8.00">implements</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;SphereXProtectedRegisteredBase.sol -->
<g id="edge78" class="edge">
<title>WildcatMarket.sol&#45;&gt;SphereXProtectedRegisteredBase.sol</title>
<path fill="none" stroke="#9370db" stroke-dasharray="5,2" d="M1498.65,-1606.48C1510.72,-1592.24 1521.74,-1576.92 1530.32,-1560.95 1574.34,-1479.05 1501.32,-1416.28 1572.07,-1355.95 1663.48,-1278 2535.9,-1339.82 2652.32,-1310.2 2688.44,-1301.01 2725.67,-1285.08 2758.43,-1268.52"/>
<polygon fill="#9370db" stroke="#9370db" points="2759.81,-1271.75 2767.1,-1264.06 2756.61,-1265.52 2759.81,-1271.75"/>
<text text-anchor="middle" x="1603.2" y="-1455.72" font-family="Arial" font-size="8.00">Inherit: protection</text>
</g>
<!-- MarketErrors.sol -->
<g id="node42" class="node">
<title>MarketErrors.sol</title>
<path fill="#ffb6c1" stroke="black" d="M3079.77,-1518.95C3079.77,-1518.95 2904.21,-1518.95 2904.21,-1518.95 2898.21,-1518.95 2889.87,-1513.43 2887.53,-1507.9 2887.53,-1507.9 2845.56,-1409 2845.56,-1409 2843.22,-1403.47 2846.88,-1397.95 2852.88,-1397.95 2852.88,-1397.95 3028.44,-1397.95 3028.44,-1397.95 3034.44,-1397.95 3042.78,-1403.47 3045.12,-1409 3045.12,-1409 3087.08,-1507.9 3087.08,-1507.9 3089.43,-1513.43 3085.77,-1518.95 3079.77,-1518.95"/>
<text text-anchor="middle" x="2966.32" y="-1476.15" font-family="Arial" font-size="9.00">MarketErrors Library</text>
<text text-anchor="middle" x="2966.32" y="-1465.65" font-family="Arial" font-size="9.00">├─ Market&#45;specific errors</text>
<text text-anchor="middle" x="2966.32" y="-1455.15" font-family="Arial" font-size="9.00">├─ State validation errors</text>
<text text-anchor="middle" x="2966.32" y="-1444.65" font-family="Arial" font-size="9.00">├─ Parameter errors</text>
<text text-anchor="middle" x="2966.32" y="-1434.15" font-family="Arial" font-size="9.00">└─ Operation errors</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;MarketErrors.sol -->
<g id="edge29" class="edge">
<title>WildcatMarket.sol&#45;&gt;MarketErrors.sol</title>
<path fill="none" stroke="#ffb6c1" stroke-dasharray="1,5" d="M1503.19,-1692.01C1723.83,-1677.59 2233.39,-1641.32 2659.32,-1588.7 2736.61,-1579.15 2760.71,-1591.54 2832.32,-1560.95 2852.87,-1552.17 2873.12,-1539.57 2891.4,-1526.21"/>
<polygon fill="#ffb6c1" stroke="#ffb6c1" points="2893.38,-1529.1 2899.28,-1520.29 2889.18,-1523.5 2893.38,-1529.1"/>
<text text-anchor="middle" x="2783.12" y="-1581.1" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- MarketEvents.sol -->
<g id="node43" class="node">
<title>MarketEvents.sol</title>
<path fill="#ffb6c1" stroke="black" d="M3376.77,-1518.95C3376.77,-1518.95 3178.94,-1518.95 3178.94,-1518.95 3172.94,-1518.95 3164.38,-1513.52 3161.83,-1508.1 3161.83,-1508.1 3115,-1408.8 3115,-1408.8 3112.44,-1403.38 3115.88,-1397.95 3121.88,-1397.95 3121.88,-1397.95 3319.7,-1397.95 3319.7,-1397.95 3325.7,-1397.95 3334.26,-1403.38 3336.82,-1408.8 3336.82,-1408.8 3383.65,-1508.1 3383.65,-1508.1 3386.21,-1513.52 3382.77,-1518.95 3376.77,-1518.95"/>
<text text-anchor="middle" x="3249.32" y="-1476.15" font-family="Arial" font-size="9.00">MarketEvents Library</text>
<text text-anchor="middle" x="3249.32" y="-1465.65" font-family="Arial" font-size="9.00">├─ Market operation events</text>
<text text-anchor="middle" x="3249.32" y="-1455.15" font-family="Arial" font-size="9.00">├─ State change events</text>
<text text-anchor="middle" x="3249.32" y="-1444.65" font-family="Arial" font-size="9.00">├─ Parameter update events</text>
<text text-anchor="middle" x="3249.32" y="-1434.15" font-family="Arial" font-size="9.00">└─ Administrative events</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;MarketEvents.sol -->
<g id="edge30" class="edge">
<title>WildcatMarket.sol&#45;&gt;MarketEvents.sol</title>
<path fill="none" stroke="#ffb6c1" stroke-dasharray="1,5" d="M1503.31,-1690.69C1740.52,-1672.95 2314.5,-1629.46 2795.32,-1588.7 2930.95,-1577.2 2972.2,-1606.9 3100.32,-1560.95 3123.7,-1552.56 3146.9,-1539.63 3167.79,-1525.76"/>
<polygon fill="#ffb6c1" stroke="#ffb6c1" points="3169.67,-1528.72 3175.96,-1520.19 3165.73,-1522.93 3169.67,-1528.72"/>
<text text-anchor="middle" x="3046.77" y="-1581.1" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- ReentrancyGuard.sol -->
<g id="node44" class="node">
<title>ReentrancyGuard.sol</title>
<path fill="#ff69b4" stroke="black" d="M3693.88,-1518.95C3693.88,-1518.95 3479.97,-1518.95 3479.97,-1518.95 3473.97,-1518.95 3465.26,-1513.6 3462.56,-1508.24 3462.56,-1508.24 3412.19,-1408.66 3412.19,-1408.66 3409.48,-1403.3 3412.77,-1397.95 3418.77,-1397.95 3418.77,-1397.95 3632.68,-1397.95 3632.68,-1397.95 3638.68,-1397.95 3647.38,-1403.3 3650.09,-1408.66 3650.09,-1408.66 3700.46,-1508.24 3700.46,-1508.24 3703.17,-1513.6 3699.88,-1518.95 3693.88,-1518.95"/>
<text text-anchor="middle" x="3556.32" y="-1476.15" font-family="Arial" font-size="9.00" fill="white">ReentrancyGuard</text>
<text text-anchor="middle" x="3556.32" y="-1465.65" font-family="Arial" font-size="9.00" fill="white">├─ nonReentrant modifier</text>
<text text-anchor="middle" x="3556.32" y="-1455.15" font-family="Arial" font-size="9.00" fill="white">├─ nonReentrantView modifier</text>
<text text-anchor="middle" x="3556.32" y="-1444.65" font-family="Arial" font-size="9.00" fill="white">├─ _reentrancyGuardEntered()</text>
<text text-anchor="middle" x="3556.32" y="-1434.15" font-family="Arial" font-size="9.00" fill="white">└─ Reentrancy protection</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;ReentrancyGuard.sol -->
<g id="edge24" class="edge">
<title>WildcatMarket.sol&#45;&gt;ReentrancyGuard.sol</title>
<path fill="none" stroke="#ff69b4" stroke-dasharray="5,2" d="M1503.57,-1692.2C1771.46,-1675.83 2473.6,-1632.11 3059.32,-1588.7 3209.64,-1577.56 3254.49,-1609.08 3397.32,-1560.95 3422.31,-1552.53 3447.3,-1539.37 3469.83,-1525.28"/>
<polygon fill="#ff69b4" stroke="#ff69b4" points="3471.52,-1528.36 3478.05,-1520.02 3467.74,-1522.46 3471.52,-1528.36"/>
<text text-anchor="middle" x="3341.28" y="-1581.1" font-family="Arial" font-size="8.00">inherits</text>
</g>
<!-- WildcatMarket.sol&#45;&gt;Fee Recipient -->
<g id="edge75" class="edge">
<title>WildcatMarket.sol&#45;&gt;Fee Recipient</title>
<path fill="none" stroke="#daa520" d="M1503.48,-1693.05C1792.12,-1677.83 2589.22,-1636.32 3253.32,-1606.7 3303.76,-1604.45 3661.87,-1610.68 3707.32,-1588.7 3745.05,-1570.46 3775.01,-1532.82 3794.25,-1502.85"/>
<polygon fill="#daa520" stroke="#daa520" points="3797.01,-1505.04 3799.32,-1494.7 3791.07,-1501.34 3797.01,-1505.04"/>
<text text-anchor="middle" x="3755.06" y="-1581.1" font-family="Arial" font-size="8.00">Pay: protocol fees</text>
</g>
<!-- WildcatMarketBase.sol&#45;&gt;WildcatMarketBase.sol -->
<g id="edge56" class="edge">
<title>WildcatMarketBase.sol&#45;&gt;WildcatMarketBase.sol</title>
<path fill="none" stroke="#ffa500" stroke-width="2" d="M1263.81,-1476.79C1274.67,-1472.89 1281.45,-1466.77 1281.45,-1458.45 1281.45,-1453.12 1278.67,-1448.69 1273.81,-1445.17"/>
<polygon fill="#ffa500" stroke="#ffa500" stroke-width="2" points="1277.02,-1442.87 1266.51,-1441.47 1273.85,-1449.11 1277.02,-1442.87"/>
<text text-anchor="middle" x="1318.95" y="-1455.72" font-family="Arial" font-size="8.00">Persist: _writeState()</text>
</g>
<!-- WildcatMarketBase.sol&#45;&gt;WildcatMarketToken.sol -->
<g id="edge87" class="edge">
<title>WildcatMarketBase.sol&#45;&gt;WildcatMarketToken.sol</title>
<path fill="none" stroke="#32cd32" d="M1200.49,-1369.97C1217.17,-1353.09 1236.6,-1337.72 1258.07,-1328.2 1318.33,-1301.49 2383.47,-1335.51 2444.32,-1310.2 2459.8,-1303.76 2474.25,-1293.83 2487.16,-1282.65"/>
<polygon fill="#32cd32" stroke="#32cd32" points="2489.25,-1285.47 2494.3,-1276.16 2484.55,-1280.29 2489.25,-1285.47"/>
<text text-anchor="middle" x="1293.7" y="-1330.35" font-family="Arial" font-size="8.00">Update: scale factor</text>
</g>
<!-- WildcatMarketBase.sol&#45;&gt;WildcatMarketWithdrawals.sol -->
<g id="edge88" class="edge">
<title>WildcatMarketBase.sol&#45;&gt;WildcatMarketWithdrawals.sol</title>
<path fill="none" stroke="#32cd32" d="M1263.75,-1391.93C1297.52,-1377.37 1334.58,-1363.9 1370.32,-1355.95 1738.35,-1274.08 2690.24,-1336.86 3066.32,-1310.2 3334.74,-1291.17 3647.24,-1250.89 3818.87,-1227.2"/>
<polygon fill="#32cd32" stroke="#32cd32" points="3819.3,-1230.67 3828.72,-1225.83 3818.34,-1223.74 3819.3,-1230.67"/>
<text text-anchor="middle" x="1599.54" y="-1330.35" font-family="Arial" font-size="8.00">Process: unpaid batches</text>
</g>
<!-- MarketState.sol -->
<g id="node14" class="node">
<title>MarketState.sol</title>
<path fill="#87ceeb" stroke="black" d="M2422.96,-1289.2C2422.96,-1289.2 2048.25,-1289.2 2048.25,-1289.2 2042.25,-1289.2 2033.06,-1284.12 2029.86,-1279.04 2029.86,-1279.04 1940.08,-1136.36 1940.08,-1136.36 1936.88,-1131.28 1939.69,-1126.2 1945.69,-1126.2 1945.69,-1126.2 2320.39,-1126.2 2320.39,-1126.2 2326.39,-1126.2 2335.59,-1131.28 2338.78,-1136.36 2338.78,-1136.36 2428.57,-1279.04 2428.57,-1279.04 2431.76,-1284.12 2428.96,-1289.2 2422.96,-1289.2"/>
<text text-anchor="middle" x="2184.32" y="-1235.9" font-family="Arial" font-size="9.00">MarketState Library</text>
<text text-anchor="middle" x="2184.32" y="-1225.4" font-family="Arial" font-size="9.00">├─ totalAssets() / liquidityRequired()</text>
<text text-anchor="middle" x="2184.32" y="-1214.9" font-family="Arial" font-size="9.00">├─ normalizeAmount() / scaleAmount()</text>
<text text-anchor="middle" x="2184.32" y="-1204.4" font-family="Arial" font-size="9.00">├─ maximumDeposit() / withdrawalBatchPayment()</text>
<text text-anchor="middle" x="2184.32" y="-1193.9" font-family="Arial" font-size="9.00">├─ applyProtocolFee() / updateScaleFactorAndFees()</text>
<text text-anchor="middle" x="2184.32" y="-1183.4" font-family="Arial" font-size="9.00">├─ hasPendingExpiredBatch() / processExpiredBatch()</text>
<text text-anchor="middle" x="2184.32" y="-1172.9" font-family="Arial" font-size="9.00">└─ All market state calculations</text>
</g>
<!-- WildcatMarketBase.sol&#45;&gt;MarketState.sol -->
<g id="edge15" class="edge">
<title>WildcatMarketBase.sol&#45;&gt;MarketState.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M1148.9,-1370.21C1155.09,-1353.87 1164.39,-1338.66 1178.32,-1328.2 1211.52,-1303.28 1884.63,-1318.4 1925.32,-1310.2 1956.35,-1303.95 1988.45,-1294.25 2019.06,-1283.28"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="2020.21,-1286.58 2028.4,-1279.86 2017.81,-1280.01 2020.21,-1286.58"/>
<text text-anchor="middle" x="1206.82" y="-1330.35" font-family="Arial" font-size="8.00">uses extensively</text>
</g>
<!-- FeeMath.sol -->
<g id="node15" class="node">
<title>FeeMath.sol</title>
<path fill="#87ceeb" stroke="black" d="M1214.31,-1278.7C1214.31,-1278.7 958.35,-1278.7 958.35,-1278.7 952.35,-1278.7 943.64,-1273.35 940.93,-1268 940.93,-1268 879.76,-1147.4 879.76,-1147.4 877.05,-1142.05 880.34,-1136.7 886.34,-1136.7 886.34,-1136.7 1142.29,-1136.7 1142.29,-1136.7 1148.29,-1136.7 1157.01,-1142.05 1159.72,-1147.4 1159.72,-1147.4 1220.88,-1268 1220.88,-1268 1223.6,-1273.35 1220.31,-1278.7 1214.31,-1278.7"/>
<text text-anchor="middle" x="1050.32" y="-1230.65" font-family="Arial" font-size="9.00">FeeMath Library</text>
<text text-anchor="middle" x="1050.32" y="-1220.15" font-family="Arial" font-size="9.00">├─ calculateLinearInterestFromBips()</text>
<text text-anchor="middle" x="1050.32" y="-1209.65" font-family="Arial" font-size="9.00">├─ applyWithdrawalBatchPayment()</text>
<text text-anchor="middle" x="1050.32" y="-1199.15" font-family="Arial" font-size="9.00">├─ mulDivUp() / mulDivDown()</text>
<text text-anchor="middle" x="1050.32" y="-1188.65" font-family="Arial" font-size="9.00">├─ bipToRay() / rayToWad()</text>
<text text-anchor="middle" x="1050.32" y="-1178.15" font-family="Arial" font-size="9.00">└─ Fixed&#45;point math utilities</text>
</g>
<!-- WildcatMarketBase.sol&#45;&gt;FeeMath.sol -->
<g id="edge16" class="edge">
<title>WildcatMarketBase.sol&#45;&gt;FeeMath.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M1072.84,-1369.99C1067.31,-1359.57 1062.45,-1348.78 1058.82,-1337.95 1053.77,-1322.88 1050.86,-1306.27 1049.3,-1290.14"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="1052.82,-1290.26 1048.54,-1280.57 1045.84,-1290.81 1052.82,-1290.26"/>
<text text-anchor="middle" x="1067.07" y="-1330.35" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- MathUtils.sol -->
<g id="node18" class="node">
<title>MathUtils.sol</title>
<path fill="#87ceeb" stroke="black" d="M1518.66,-1268.2C1518.66,-1268.2 1314.65,-1268.2 1314.65,-1268.2 1308.65,-1268.2 1300.03,-1262.8 1297.41,-1257.4 1297.41,-1257.4 1249.23,-1158 1249.23,-1158 1246.61,-1152.6 1249.99,-1147.2 1255.99,-1147.2 1255.99,-1147.2 1460,-1147.2 1460,-1147.2 1466,-1147.2 1474.62,-1152.6 1477.23,-1158 1477.23,-1158 1525.42,-1257.4 1525.42,-1257.4 1528.04,-1262.8 1524.66,-1268.2 1518.66,-1268.2"/>
<text text-anchor="middle" x="1387.32" y="-1225.4" font-family="Arial" font-size="9.00">MathUtils Library</text>
<text text-anchor="middle" x="1387.32" y="-1214.9" font-family="Arial" font-size="9.00">├─ mulDiv() variants</text>
<text text-anchor="middle" x="1387.32" y="-1204.4" font-family="Arial" font-size="9.00">├─ min() / max() / satSub()</text>
<text text-anchor="middle" x="1387.32" y="-1193.9" font-family="Arial" font-size="9.00">├─ Percentage calculations</text>
<text text-anchor="middle" x="1387.32" y="-1183.4" font-family="Arial" font-size="9.00">└─ Safe arithmetic operations</text>
</g>
<!-- WildcatMarketBase.sol&#45;&gt;MathUtils.sol -->
<g id="edge18" class="edge">
<title>WildcatMarketBase.sol&#45;&gt;MathUtils.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M1088.55,-1370.08C1086.12,-1354.9 1088.33,-1340.17 1098.82,-1328.2 1118.99,-1305.19 1206.69,-1320.98 1235.32,-1310.2 1258.5,-1301.48 1281.68,-1288.64 1302.69,-1275"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="1304.54,-1277.98 1310.93,-1269.53 1300.66,-1272.15 1304.54,-1277.98"/>
<text text-anchor="middle" x="1107.07" y="-1330.35" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- SafeCastLib.sol -->
<g id="node19" class="node">
<title>SafeCastLib.sol</title>
<path fill="#87ceeb" stroke="black" d="M1904.09,-1257.7C1904.09,-1257.7 1635.76,-1257.7 1635.76,-1257.7 1629.76,-1257.7 1620.15,-1252.9 1616.55,-1248.11 1616.55,-1248.11 1555.77,-1167.29 1555.77,-1167.29 1552.17,-1162.49 1554.56,-1157.7 1560.56,-1157.7 1560.56,-1157.7 1828.89,-1157.7 1828.89,-1157.7 1834.89,-1157.7 1844.49,-1162.49 1848.1,-1167.29 1848.1,-1167.29 1908.88,-1248.11 1908.88,-1248.11 1912.48,-1252.9 1910.09,-1257.7 1904.09,-1257.7"/>
<text text-anchor="middle" x="1732.32" y="-1220.15" font-family="Arial" font-size="9.00">SafeCastLib Library</text>
<text text-anchor="middle" x="1732.32" y="-1209.65" font-family="Arial" font-size="9.00">├─ toUint128() / toUint104() / toUint32()</text>
<text text-anchor="middle" x="1732.32" y="-1199.15" font-family="Arial" font-size="9.00">├─ toUint16() / toUint8()</text>
<text text-anchor="middle" x="1732.32" y="-1188.65" font-family="Arial" font-size="9.00">└─ Safe type casting</text>
</g>
<!-- WildcatMarketBase.sol&#45;&gt;SafeCastLib.sol -->
<g id="edge17" class="edge">
<title>WildcatMarketBase.sol&#45;&gt;SafeCastLib.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M1121.22,-1370.12C1122.77,-1354.48 1127.82,-1339.57 1138.82,-1328.2 1169.79,-1296.18 1496.33,-1321.85 1539.32,-1310.2 1576.58,-1300.11 1614.77,-1281.96 1647.24,-1263.76"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="1648.86,-1266.87 1655.82,-1258.88 1645.4,-1260.79 1648.86,-1266.87"/>
<text text-anchor="middle" x="1147.07" y="-1330.35" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- WildcatMarketBase.sol&#45;&gt;SphereXProtectedRegisteredBase.sol -->
<g id="edge5" class="edge">
<title>WildcatMarketBase.sol&#45;&gt;SphereXProtectedRegisteredBase.sol</title>
<path fill="none" stroke="#9370db" stroke-dasharray="5,2" d="M1263.83,-1389.58C1316.64,-1364.96 1379.62,-1340.24 1439.82,-1328.2 1571.95,-1301.78 2521.3,-1341.62 2652.32,-1310.2 2688.74,-1301.47 2726.19,-1285.56 2759.06,-1268.88"/>
<polygon fill="#9370db" stroke="#9370db" points="2760.48,-1272.09 2767.76,-1264.39 2757.27,-1265.87 2760.48,-1272.09"/>
<text text-anchor="middle" x="1452.57" y="-1330.35" font-family="Arial" font-size="8.00">inherits</text>
</g>
<!-- MarketConstraintHooks.sol -->
<g id="node9" class="node">
<title>MarketConstraintHooks.sol</title>
<path fill="#ff8c00" stroke="black" d="M531.32,-1027.64C531.32,-1027.64 457.96,-1080.21 457.96,-1080.21 453.08,-1083.7 442.2,-1087.2 436.2,-1087.2 436.2,-1087.2 274.45,-1087.2 274.45,-1087.2 268.45,-1087.2 257.57,-1083.7 252.69,-1080.21 252.69,-1080.21 179.33,-1027.64 179.33,-1027.64 174.45,-1024.15 174.45,-1017.16 179.33,-1013.67 179.33,-1013.67 252.69,-961.1 252.69,-961.1 257.57,-957.6 268.45,-954.11 274.45,-954.11 274.45,-954.11 436.2,-954.11 436.2,-954.11 442.2,-954.11 453.08,-957.6 457.96,-961.1 457.96,-961.1 531.32,-1013.67 531.32,-1013.67 536.2,-1017.16 536.2,-1024.15 531.32,-1027.64"/>
<text text-anchor="middle" x="355.32" y="-1048.85" font-family="Arial" font-size="9.00" fill="white">MarketConstraintHooks.sol</text>
<text text-anchor="middle" x="355.32" y="-1038.35" font-family="Arial" font-size="9.00" fill="white">├─ onSetAnnualInterestBips() [constraint validation]</text>
<text text-anchor="middle" x="355.32" y="-1027.85" font-family="Arial" font-size="9.00" fill="white">├─ onSetReserveRatioBips() [constraint validation]</text>
<text text-anchor="middle" x="355.32" y="-1017.35" font-family="Arial" font-size="9.00" fill="white">├─ onSetMaxTotalSupply() [constraint validation]</text>
<text text-anchor="middle" x="355.32" y="-1006.85" font-family="Arial" font-size="9.00" fill="white">├─ setTemporaryReserveRatio() [onlyBorrower]</text>
<text text-anchor="middle" x="355.32" y="-996.35" font-family="Arial" font-size="9.00" fill="white">├─ constraints: MarketParameterConstraints</text>
<text text-anchor="middle" x="355.32" y="-985.85" font-family="Arial" font-size="9.00" fill="white">└─ _temporaryReserveRatio: mapping</text>
</g>
<!-- WildcatMarketConfig.sol&#45;&gt;MarketConstraintHooks.sol -->
<g id="edge60" class="edge">
<title>WildcatMarketConfig.sol&#45;&gt;MarketConstraintHooks.sol</title>
<path fill="none" stroke="#008000" d="M384.56,-1396.39C378.49,-1318.57 367.99,-1183.96 361.36,-1099.03"/>
<polygon fill="#008000" stroke="#008000" points="364.86,-1098.84 360.59,-1089.15 357.88,-1099.39 364.86,-1098.84"/>
<text text-anchor="middle" x="442.41" y="-1330.35" font-family="Arial" font-size="8.00">Validate: onSetAnnualInterestBips()</text>
</g>
<!-- FixedTermLoanHooks.sol -->
<g id="node10" class="node">
<title>FixedTermLoanHooks.sol</title>
<path fill="#ff8c00" stroke="black" d="M542.19,-442.69C542.19,-442.69 443.38,-559.5 443.38,-559.5 439.51,-564.08 429.63,-568.66 423.63,-568.66 423.63,-568.66 219.01,-568.66 219.01,-568.66 213.01,-568.66 203.14,-564.08 199.26,-559.5 199.26,-559.5 100.45,-442.69 100.45,-442.69 96.58,-438.11 96.58,-428.95 100.45,-424.37 100.45,-424.37 199.26,-307.56 199.26,-307.56 203.14,-302.98 213.01,-298.4 219.01,-298.4 219.01,-298.4 423.63,-298.4 423.63,-298.4 429.63,-298.4 439.51,-302.98 443.38,-307.56 443.38,-307.56 542.19,-424.37 542.19,-424.37 546.07,-428.95 546.07,-438.11 542.19,-442.69"/>
<text text-anchor="middle" x="321.32" y="-503.73" font-family="Arial" font-size="9.00" fill="white">FixedTermLoanHooks.sol</text>
<text text-anchor="middle" x="321.32" y="-493.23" font-family="Arial" font-size="9.00" fill="white">├─ version() / config()</text>
<text text-anchor="middle" x="321.32" y="-482.73" font-family="Arial" font-size="9.00" fill="white">├─ onCreateMarket() / onQueueWithdrawal()</text>
<text text-anchor="middle" x="321.32" y="-472.23" font-family="Arial" font-size="9.00" fill="white">├─ onSetAnnualInterestBips() [term protection]</text>
<text text-anchor="middle" x="321.32" y="-461.73" font-family="Arial" font-size="9.00" fill="white">├─ setFixedTermEndTime() [onlyBorrower]</text>
<text text-anchor="middle" x="321.32" y="-451.23" font-family="Arial" font-size="9.00" fill="white">├─ setMinimumDeposit() [onlyBorrower]</text>
<text text-anchor="middle" x="321.32" y="-440.73" font-family="Arial" font-size="9.00" fill="white">├─ addRoleProvider() / removeRoleProvider() [onlyBorrower]</text>
<text text-anchor="middle" x="321.32" y="-430.23" font-family="Arial" font-size="9.00" fill="white">├─ blockFromDeposits() / unblockFromDeposits() [onlyBorrower]</text>
<text text-anchor="middle" x="321.32" y="-419.73" font-family="Arial" font-size="9.00" fill="white">├─ grantRole() / grantRoles() / revokeRole()</text>
<text text-anchor="middle" x="321.32" y="-409.23" font-family="Arial" font-size="9.00" fill="white">├─ pullProviderCredential() / validateCredential()</text>
<text text-anchor="middle" x="321.32" y="-398.73" font-family="Arial" font-size="9.00" fill="white">├─ getRoleProvider() / getPullProviders()</text>
<text text-anchor="middle" x="321.32" y="-388.23" font-family="Arial" font-size="9.00" fill="white">├─ getHookedMarket() / getLenderStatus()</text>
<text text-anchor="middle" x="321.32" y="-377.73" font-family="Arial" font-size="9.00" fill="white">├─ fixedTermEndTime: uint32</text>
<text text-anchor="middle" x="321.32" y="-367.23" font-family="Arial" font-size="9.00" fill="white">├─ minimumDeposit: uint256</text>
<text text-anchor="middle" x="321.32" y="-356.73" font-family="Arial" font-size="9.00" fill="white">└─ canReduceFixedTerm: bool</text>
</g>
<!-- WildcatMarketConfig.sol&#45;&gt;FixedTermLoanHooks.sol -->
<g id="edge61" class="edge">
<title>WildcatMarketConfig.sol&#45;&gt;FixedTermLoanHooks.sol</title>
<path fill="none" stroke="#008000" d="M299.82,-1396.38C213.24,-1331.33 87.55,-1219.61 34.32,-1087.2 12.26,-1032.32 19.56,-1011.39 34.32,-954.11 69.56,-817.44 149.24,-678.3 215.72,-578.44"/>
<polygon fill="#008000" stroke="#008000" points="218.61,-580.41 221.27,-570.16 212.79,-576.52 218.61,-580.41"/>
<text text-anchor="middle" x="97.32" y="-1017.93" font-family="Arial" font-size="8.00">Validate: onSetAnnualInterestBips()</text>
</g>
<!-- WildcatMarketWithdrawals.sol&#45;&gt;AccessControlHooks.sol -->
<g id="edge65" class="edge">
<title>WildcatMarketWithdrawals.sol&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#008000" d="M3830,-1183.17C3479.46,-1113.48 2442.95,-907.41 1994.29,-818.2"/>
<polygon fill="#008000" stroke="#008000" points="1995.12,-814.8 1984.63,-816.28 1993.75,-821.67 1995.12,-814.8"/>
<text text-anchor="middle" x="3359.59" y="-1017.93" font-family="Arial" font-size="8.00">Hook: onQueueWithdrawal()</text>
</g>
<!-- WildcatMarketWithdrawals.sol&#45;&gt;AccessControlHooks.sol -->
<g id="edge68" class="edge">
<title>WildcatMarketWithdrawals.sol&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#008000" d="M3830.18,-1190.3C3661.22,-1167.48 3340.63,-1126.56 3066.32,-1105.2 2968.65,-1097.59 2721.9,-1106.39 2625.82,-1087.2 2389.77,-1040.04 2132.01,-936.67 1964.58,-862.04"/>
<polygon fill="#008000" stroke="#008000" points="1966.12,-858.89 1955.56,-858.01 1963.26,-865.28 1966.12,-858.89"/>
<text text-anchor="middle" x="2679.07" y="-1017.93" font-family="Arial" font-size="8.00">Hook: onExecuteWithdrawal()</text>
</g>
<!-- Withdrawal.sol -->
<g id="node16" class="node">
<title>Withdrawal.sol</title>
<path fill="#87ceeb" stroke="black" d="M1525.18,-835.76C1525.18,-835.76 1140.58,-835.76 1140.58,-835.76 1134.58,-835.76 1124.64,-831.23 1120.71,-826.7 1120.71,-826.7 1031.34,-723.82 1031.34,-723.82 1027.4,-719.29 1029.47,-714.76 1035.47,-714.76 1035.47,-714.76 1420.07,-714.76 1420.07,-714.76 1426.07,-714.76 1436,-719.29 1439.94,-723.82 1439.94,-723.82 1529.31,-826.7 1529.31,-826.7 1533.24,-831.23 1531.18,-835.76 1525.18,-835.76"/>
<text text-anchor="middle" x="1280.32" y="-792.96" font-family="Arial" font-size="9.00">Withdrawal Library</text>
<text text-anchor="middle" x="1280.32" y="-782.46" font-family="Arial" font-size="9.00">├─ scaledOwedAmount() / availableWithdrawalAmount()</text>
<text text-anchor="middle" x="1280.32" y="-771.96" font-family="Arial" font-size="9.00">├─ createWithdrawal() / processWithdrawal()</text>
<text text-anchor="middle" x="1280.32" y="-761.46" font-family="Arial" font-size="9.00">├─ WithdrawalBatch manipulation</text>
<text text-anchor="middle" x="1280.32" y="-750.96" font-family="Arial" font-size="9.00">└─ Withdrawal calculations</text>
</g>
<!-- WildcatMarketWithdrawals.sol&#45;&gt;Withdrawal.sol -->
<g id="edge19" class="edge">
<title>WildcatMarketWithdrawals.sol&#45;&gt;Withdrawal.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M3830.24,-1189.49C3661.34,-1165.7 3340.84,-1123.63 3066.32,-1105.2 2861.41,-1091.44 2345.86,-1114.57 2142.32,-1087.2 1871.07,-1050.72 1797.91,-1041.51 1545.32,-936.11 1485.58,-911.18 1423.37,-874.31 1374.26,-842.26"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="1376.47,-839.53 1366.19,-836.96 1372.63,-845.38 1376.47,-839.53"/>
<text text-anchor="middle" x="2170.82" y="-1017.93" font-family="Arial" font-size="8.00">uses extensively</text>
</g>
<!-- AccessControlHooks.sol&#45;&gt;FixedTermLoanHooks.sol -->
<g id="edge66" class="edge">
<title>AccessControlHooks.sol&#45;&gt;FixedTermLoanHooks.sol</title>
<path fill="none" stroke="#008000" d="M1638.07,-657.66C1609.16,-639.99 1577.92,-624.36 1546.32,-614.41 1489.4,-596.49 526.85,-620.66 472.32,-596.41 459.85,-590.87 447.94,-583.74 436.66,-575.59"/>
<polygon fill="#008000" stroke="#008000" points="439.05,-573.01 428.97,-569.75 434.82,-578.59 439.05,-573.01"/>
<text text-anchor="middle" x="514.32" y="-588.81" font-family="Arial" font-size="8.00">Check: term constraints</text>
</g>
<!-- WildcatSanctionsSentinel.sol -->
<g id="node12" class="node">
<title>WildcatSanctionsSentinel.sol</title>
<path fill="#dc143c" stroke="black" d="M2836,-413.04C2836,-413.04 2836,-454.03 2836,-454.03 2836,-460.03 2830.41,-468.2 2824.81,-470.38 2824.81,-470.38 2729.04,-507.63 2729.04,-507.63 2723.45,-509.81 2711.86,-511.98 2705.86,-511.98 2705.86,-511.98 2562.79,-511.98 2562.79,-511.98 2556.79,-511.98 2545.2,-509.81 2539.6,-507.63 2539.6,-507.63 2443.83,-470.38 2443.83,-470.38 2438.24,-468.2 2432.65,-460.03 2432.65,-454.03 2432.65,-454.03 2432.65,-413.04 2432.65,-413.04 2432.65,-407.04 2438.24,-398.86 2443.83,-396.68 2443.83,-396.68 2539.6,-359.43 2539.6,-359.43 2545.2,-357.26 2556.79,-355.08 2562.79,-355.08 2562.79,-355.08 2705.86,-355.08 2705.86,-355.08 2711.86,-355.08 2723.45,-357.26 2729.04,-359.43 2729.04,-359.43 2824.81,-396.68 2824.81,-396.68 2830.41,-398.86 2836,-407.04 2836,-413.04"/>
<text text-anchor="middle" x="2634.32" y="-472.23" font-family="Arial" font-size="9.00" fill="white">WildcatSanctionsSentinel.sol</text>
<text text-anchor="middle" x="2634.32" y="-461.73" font-family="Arial" font-size="9.00" fill="white">├─ isSanctioned(address) [view]</text>
<text text-anchor="middle" x="2634.32" y="-451.23" font-family="Arial" font-size="9.00" fill="white">├─ overrideSanction(address) [borrower&#45;only]</text>
<text text-anchor="middle" x="2634.32" y="-440.73" font-family="Arial" font-size="9.00" fill="white">├─ removeSanctionOverride(address) [borrower&#45;only]</text>
<text text-anchor="middle" x="2634.32" y="-430.23" font-family="Arial" font-size="9.00" fill="white">├─ createEscrow(address,address,address) [returns escrow]</text>
<text text-anchor="middle" x="2634.32" y="-419.73" font-family="Arial" font-size="9.00" fill="white">├─ getEscrowAddress(address,address,address) [view]</text>
<text text-anchor="middle" x="2634.32" y="-409.23" font-family="Arial" font-size="9.00" fill="white">├─ _chainalysisSanctionsList: address</text>
<text text-anchor="middle" x="2634.32" y="-398.73" font-family="Arial" font-size="9.00" fill="white">├─ _sanctionOverrides: mapping</text>
<text text-anchor="middle" x="2634.32" y="-388.23" font-family="Arial" font-size="9.00" fill="white">└─ _escrowContracts: mapping</text>
</g>
<!-- AccessControlHooks.sol&#45;&gt;WildcatSanctionsSentinel.sol -->
<g id="edge46" class="edge">
<title>AccessControlHooks.sol&#45;&gt;WildcatSanctionsSentinel.sol</title>
<path fill="none" stroke="#008000" d="M1977.22,-725.9C2106.72,-690.26 2279.1,-636.3 2423.32,-568.66 2457.48,-552.64 2492.77,-532.04 2524.48,-511.81"/>
<polygon fill="#008000" stroke="#008000" points="2525.98,-515.01 2532.49,-506.65 2522.19,-509.12 2525.98,-515.01"/>
<text text-anchor="middle" x="2412.67" y="-588.81" font-family="Arial" font-size="8.00">Check: isSanctioned()</text>
</g>
<!-- StringQuery.sol -->
<g id="node22" class="node">
<title>StringQuery.sol</title>
<path fill="#87ceeb" stroke="black" d="M1464.1,-473.03C1464.1,-473.03 1240.3,-473.03 1240.3,-473.03 1234.3,-473.03 1224.53,-468.36 1220.76,-463.69 1220.76,-463.69 1172.09,-403.37 1172.09,-403.37 1168.32,-398.7 1170.55,-394.03 1176.55,-394.03 1176.55,-394.03 1400.35,-394.03 1400.35,-394.03 1406.35,-394.03 1416.12,-398.7 1419.89,-403.37 1419.89,-403.37 1468.56,-463.69 1468.56,-463.69 1472.33,-468.36 1470.1,-473.03 1464.1,-473.03"/>
<text text-anchor="middle" x="1320.32" y="-440.73" font-family="Arial" font-size="9.00">StringQuery Library</text>
<text text-anchor="middle" x="1320.32" y="-430.23" font-family="Arial" font-size="9.00">├─ String manipulation functions</text>
<text text-anchor="middle" x="1320.32" y="-419.73" font-family="Arial" font-size="9.00">└─ Query string utilities</text>
</g>
<!-- AccessControlHooks.sol&#45;&gt;StringQuery.sol -->
<g id="edge23" class="edge">
<title>AccessControlHooks.sol&#45;&gt;StringQuery.sol</title>
<path fill="none" stroke="#87ceeb" stroke-dasharray="5,2" d="M1628.56,-670.88C1581.97,-638.86 1531.09,-602.97 1485.32,-568.66 1447.66,-540.43 1406.58,-507.04 1374.83,-480.64"/>
<polygon fill="#87ceeb" stroke="#87ceeb" points="1377.22,-478.08 1367.3,-474.36 1372.74,-483.45 1377.22,-478.08"/>
<text text-anchor="middle" x="1525.14" y="-588.81" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- LenderStatus.sol -->
<g id="node24" class="node">
<title>LenderStatus.sol</title>
<path fill="#dda0dd" stroke="black" d="M1641.12,-489.73C1641.12,-489.73 1505.78,-437.83 1505.78,-437.83 1500.18,-435.68 1500.18,-431.38 1505.78,-429.23 1505.78,-429.23 1641.12,-377.33 1641.12,-377.33 1646.72,-375.18 1657.93,-375.18 1663.53,-377.33 1663.53,-377.33 1798.87,-429.23 1798.87,-429.23 1804.47,-431.38 1804.47,-435.68 1798.87,-437.83 1798.87,-437.83 1663.53,-489.73 1663.53,-489.73 1657.93,-491.88 1646.72,-491.88 1641.12,-489.73"/>
<text text-anchor="middle" x="1652.32" y="-451.23" font-family="Arial" font-size="9.00">LenderStatus Type</text>
<text text-anchor="middle" x="1652.32" y="-440.73" font-family="Arial" font-size="9.00">├─ isApproved: bool</text>
<text text-anchor="middle" x="1652.32" y="-430.23" font-family="Arial" font-size="9.00">├─ lastProvider: address</text>
<text text-anchor="middle" x="1652.32" y="-419.73" font-family="Arial" font-size="9.00">├─ lastApprovalTimestamp: uint32</text>
<text text-anchor="middle" x="1652.32" y="-409.23" font-family="Arial" font-size="9.00">└─ canRefresh: bool</text>
</g>
<!-- AccessControlHooks.sol&#45;&gt;LenderStatus.sol -->
<g id="edge26" class="edge">
<title>AccessControlHooks.sol&#45;&gt;LenderStatus.sol</title>
<path fill="none" stroke="#dda0dd" stroke-dasharray="1,5" d="M1721.66,-614.34C1705.61,-572.72 1689.26,-530.31 1676.46,-497.13"/>
<polygon fill="#dda0dd" stroke="#dda0dd" points="1679.85,-496.18 1672.98,-488.11 1673.32,-498.7 1679.85,-496.18"/>
<text text-anchor="middle" x="1722.15" y="-588.81" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- RoleProvider.sol -->
<g id="node25" class="node">
<title>RoleProvider.sol</title>
<path fill="#dda0dd" stroke="black" d="M1951.39,-489.08C1951.39,-489.08 1839.51,-438.48 1839.51,-438.48 1834.04,-436 1834.04,-431.06 1839.51,-428.58 1839.51,-428.58 1951.39,-377.98 1951.39,-377.98 1956.86,-375.5 1967.79,-375.5 1973.26,-377.98 1973.26,-377.98 2085.14,-428.58 2085.14,-428.58 2090.61,-431.06 2090.61,-436 2085.14,-438.48 2085.14,-438.48 1973.26,-489.08 1973.26,-489.08 1967.79,-491.56 1956.86,-491.56 1951.39,-489.08"/>
<text text-anchor="middle" x="1962.32" y="-451.23" font-family="Arial" font-size="9.00">RoleProvider Type</text>
<text text-anchor="middle" x="1962.32" y="-440.73" font-family="Arial" font-size="9.00">├─ isActive: bool</text>
<text text-anchor="middle" x="1962.32" y="-430.23" font-family="Arial" font-size="9.00">├─ timeToLive: uint32</text>
<text text-anchor="middle" x="1962.32" y="-419.73" font-family="Arial" font-size="9.00">├─ pullProviderIndex: uint24</text>
<text text-anchor="middle" x="1962.32" y="-409.23" font-family="Arial" font-size="9.00">└─ canRefresh: bool</text>
</g>
<!-- AccessControlHooks.sol&#45;&gt;RoleProvider.sol -->
<g id="edge27" class="edge">
<title>AccessControlHooks.sol&#45;&gt;RoleProvider.sol</title>
<path fill="none" stroke="#dda0dd" stroke-dasharray="1,5" d="M1867.58,-614.34C1890.43,-570.98 1913.73,-526.76 1931.51,-493.02"/>
<polygon fill="#dda0dd" stroke="#dda0dd" points="1934.57,-494.71 1936.14,-484.23 1928.38,-491.45 1934.57,-494.71"/>
<text text-anchor="middle" x="1886.44" y="-588.81" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- IHooks.sol -->
<g id="node31" class="node">
<title>IHooks.sol</title>
<polygon fill="#ffd700" stroke="black" points="697.32,-230.7 453.32,-230.7 453.32,-117.7 703.32,-117.7 703.32,-224.7 697.32,-230.7"/>
<polyline fill="none" stroke="black" points="697.32,-230.7 697.32,-224.7"/>
<polyline fill="none" stroke="black" points="703.32,-224.7 697.32,-224.7"/>
<text text-anchor="middle" x="578.32" y="-218.15" font-family="Arial" font-size="9.00">IHooks.sol</text>
<text text-anchor="middle" x="578.32" y="-207.65" font-family="Arial" font-size="9.00">├─ All hook function signatures</text>
<text text-anchor="middle" x="578.32" y="-197.15" font-family="Arial" font-size="9.00">├─ onCreateMarket() / onDeposit()</text>
<text text-anchor="middle" x="578.32" y="-186.65" font-family="Arial" font-size="9.00">├─ onQueueWithdrawal() / onExecuteWithdrawal()</text>
<text text-anchor="middle" x="578.32" y="-176.15" font-family="Arial" font-size="9.00">├─ onTransfer() / onBorrow() / onRepay()</text>
<text text-anchor="middle" x="578.32" y="-165.65" font-family="Arial" font-size="9.00">├─ onSetAnnualInterestBips() / onSetReserveRatioBips()</text>
<text text-anchor="middle" x="578.32" y="-155.15" font-family="Arial" font-size="9.00">├─ onSetMaxTotalSupply() / onCloseMarket()</text>
<text text-anchor="middle" x="578.32" y="-144.65" font-family="Arial" font-size="9.00">├─ onNukeFromOrbit() / onSetProtocolFeeBips()</text>
<text text-anchor="middle" x="578.32" y="-134.15" font-family="Arial" font-size="9.00">├─ version() / config()</text>
<text text-anchor="middle" x="578.32" y="-123.65" font-family="Arial" font-size="9.00">└─ Base hooks interface</text>
</g>
<!-- AccessControlHooks.sol&#45;&gt;IHooks.sol -->
<g id="edge9" class="edge">
<title>AccessControlHooks.sol&#45;&gt;IHooks.sol</title>
<path fill="none" stroke="#808080" stroke-dasharray="1,5" d="M1637.63,-657.81C1608.82,-640.18 1577.74,-624.53 1546.32,-614.41 1483.05,-594.02 1008.47,-624.73 948.32,-596.41 787.63,-520.75 668.02,-338.93 612.58,-240.74"/>
<polygon fill="#808080" stroke="#808080" points="615.77,-239.27 607.84,-232.25 609.66,-242.69 615.77,-239.27"/>
<text text-anchor="middle" x="917.47" y="-430.81" font-family="Arial" font-size="8.00">implements</text>
</g>
<!-- Errors.sol -->
<g id="node41" class="node">
<title>Errors.sol</title>
<path fill="#ffb6c1" stroke="black" d="M2402.65,-504.53C2402.65,-504.53 2187.51,-504.53 2187.51,-504.53 2181.51,-504.53 2173.13,-499.02 2170.74,-493.52 2170.74,-493.52 2118.76,-373.54 2118.76,-373.54 2116.38,-368.04 2119.99,-362.53 2125.99,-362.53 2125.99,-362.53 2341.13,-362.53 2341.13,-362.53 2347.13,-362.53 2355.52,-368.04 2357.91,-373.54 2357.91,-373.54 2409.88,-493.52 2409.88,-493.52 2412.27,-499.02 2408.65,-504.53 2402.65,-504.53"/>
<text text-anchor="middle" x="2264.32" y="-456.48" font-family="Arial" font-size="9.00">Errors Library</text>
<text text-anchor="middle" x="2264.32" y="-445.98" font-family="Arial" font-size="9.00">├─ All custom error definitions</text>
<text text-anchor="middle" x="2264.32" y="-435.48" font-family="Arial" font-size="9.00">├─ Market errors / Hooks errors</text>
<text text-anchor="middle" x="2264.32" y="-424.98" font-family="Arial" font-size="9.00">├─ Authorization errors</text>
<text text-anchor="middle" x="2264.32" y="-414.48" font-family="Arial" font-size="9.00">├─ Validation errors</text>
<text text-anchor="middle" x="2264.32" y="-403.98" font-family="Arial" font-size="9.00">└─ Centralized error definitions</text>
</g>
<!-- AccessControlHooks.sol&#45;&gt;Errors.sol -->
<g id="edge31" class="edge">
<title>AccessControlHooks.sol&#45;&gt;Errors.sol</title>
<path fill="none" stroke="#ffb6c1" stroke-dasharray="1,5" d="M1943.35,-677.95C1995.94,-644.75 2054.04,-606.4 2105.32,-568.66 2129.05,-551.2 2153.8,-531.24 2176.52,-512.16"/>
<polygon fill="#ffb6c1" stroke="#ffb6c1" points="2178.58,-515 2183.96,-505.87 2174.06,-509.65 2178.58,-515"/>
<text text-anchor="middle" x="2088.49" y="-588.81" font-family="Arial" font-size="8.00">uses</text>
</g>
<!-- Role Provider -->
<g id="node51" class="node">
<title>Role Provider</title>
<ellipse fill="#c0c0c0" stroke="black" stroke-dasharray="5,2" cx="1066.32" cy="-433.53" rx="80.26" ry="50.2"/>
<text text-anchor="middle" x="1066.32" y="-456.48" font-family="Arial" font-size="9.00">Credential Provider</text>
<text text-anchor="middle" x="1066.32" y="-445.98" font-family="Arial" font-size="9.00">├─ Credential issuance</text>
<text text-anchor="middle" x="1066.32" y="-435.48" font-family="Arial" font-size="9.00">├─ Validation services</text>
<text text-anchor="middle" x="1066.32" y="-424.98" font-family="Arial" font-size="9.00">├─ Pull/Push models</text>
<text text-anchor="middle" x="1066.32" y="-414.48" font-family="Arial" font-size="9.00">├─ TTL management</text>
<text text-anchor="middle" x="1066.32" y="-403.98" font-family="Arial" font-size="9.00">└─ Refresh capability</text>
</g>
<!-- AccessControlHooks.sol&#45;&gt;Role Provider -->
<g id="edge45" class="edge">
<title>AccessControlHooks.sol&#45;&gt;Role Provider</title>
<path fill="none" stroke="#008000" d="M1636.54,-659.82C1607.9,-642.06 1577.15,-625.84 1546.32,-614.41 1464.29,-584.01 1229.87,-614.44 1155.32,-568.66 1126.58,-551.01 1105.16,-520.2 1090.55,-492.55"/>
<polygon fill="#008000" stroke="#008000" points="1093.8,-491.22 1086.15,-483.89 1087.56,-494.39 1093.8,-491.22"/>
<text text-anchor="middle" x="1361.72" y="-588.81" font-family="Arial" font-size="8.00">Validate: validateCredential()</text>
</g>
<!-- MarketConstraintHooks.sol&#45;&gt;IHooks.sol -->
<g id="edge10" class="edge">
<title>MarketConstraintHooks.sol&#45;&gt;IHooks.sol</title>
<path fill="none" stroke="#808080" stroke-dasharray="1,5" d="M395.19,-953.86C442.19,-872.88 518.65,-729.68 556.32,-596.41 590.57,-475.27 588.74,-326.88 583.85,-242.47"/>
<polygon fill="#808080" stroke="#808080" points="587.34,-242.27 583.23,-232.5 580.36,-242.7 587.34,-242.27"/>
<text text-anchor="middle" x="577.95" y="-588.81" font-family="Arial" font-size="8.00">implements</text>
</g>
<!-- FixedTermLoanHooks.sol&#45;&gt;IHooks.sol -->
<g id="edge11" class="edge">
<title>FixedTermLoanHooks.sol&#45;&gt;IHooks.sol</title>
<path fill="none" stroke="#808080" stroke-dasharray="1,5" d="M444.93,-308.76C469.1,-284.56 493.51,-260.12 514.72,-238.89"/>
<polygon fill="#808080" stroke="#808080" points="517.02,-241.54 521.61,-231.99 512.07,-236.59 517.02,-241.54"/>
<text text-anchor="middle" x="500.65" y="-272.8" font-family="Arial" font-size="8.00">implements</text>
</g>
<!-- IRoleProvider.sol -->
<g id="node11" class="node">
<title>IRoleProvider.sol</title>
<ellipse fill="#ffa500" stroke="black" cx="829.32" cy="-775.26" rx="176.25" ry="50.2"/>
<text text-anchor="middle" x="829.32" y="-798.21" font-family="Arial" font-size="9.00">IRoleProvider.sol</text>
<text text-anchor="middle" x="829.32" y="-787.71" font-family="Arial" font-size="9.00">[External Provider Interface]</text>
<text text-anchor="middle" x="829.32" y="-777.21" font-family="Arial" font-size="9.00">├─ isPullProvider() [view]</text>
<text text-anchor="middle" x="829.32" y="-766.71" font-family="Arial" font-size="9.00">├─ getCredential(address) [view]</text>
<text text-anchor="middle" x="829.32" y="-756.21" font-family="Arial" font-size="9.00">├─ validateCredential(address,bytes) [returns timestamp]</text>
<text text-anchor="middle" x="829.32" y="-745.71" font-family="Arial" font-size="9.00">└─ Implementation&#45;specific credential logic</text>
</g>
<!-- IRoleProvider.sol&#45;&gt;Role Provider -->
<g id="edge90" class="edge">
<title>IRoleProvider.sol&#45;&gt;Role Provider</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M861.36,-725.75C886.66,-687.68 923.05,-633.48 955.82,-586.66 978.8,-553.84 1005.14,-517.53 1026.34,-488.61"/>
<polygon fill="#ffa500" stroke="#ffa500" points="1029.04,-490.85 1032.13,-480.72 1023.39,-486.71 1029.04,-490.85"/>
<text text-anchor="middle" x="1003.07" y="-588.81" font-family="Arial" font-size="8.00">Implement: credential logic</text>
</g>
<!-- WildcatSanctionsEscrow.sol -->
<g id="node13" class="node">
<title>WildcatSanctionsEscrow.sol</title>
<path fill="#dc143c" stroke="black" d="M1727.67,-153.71C1727.67,-153.71 1727.67,-194.7 1727.67,-194.7 1727.67,-200.7 1722.28,-209.33 1716.89,-211.97 1716.89,-211.97 1644.52,-247.38 1644.52,-247.38 1639.13,-250.01 1627.74,-252.65 1621.74,-252.65 1621.74,-252.65 1512.91,-252.65 1512.91,-252.65 1506.91,-252.65 1495.52,-250.01 1490.13,-247.38 1490.13,-247.38 1417.76,-211.97 1417.76,-211.97 1412.37,-209.33 1406.98,-200.7 1406.98,-194.7 1406.98,-194.7 1406.98,-153.71 1406.98,-153.71 1406.98,-147.71 1412.37,-139.07 1417.76,-136.43 1417.76,-136.43 1490.13,-101.02 1490.13,-101.02 1495.52,-98.39 1506.91,-95.75 1512.91,-95.75 1512.91,-95.75 1621.74,-95.75 1621.74,-95.75 1627.74,-95.75 1639.13,-98.39 1644.52,-101.02 1644.52,-101.02 1716.89,-136.43 1716.89,-136.43 1722.28,-139.07 1727.67,-147.71 1727.67,-153.71"/>
<text text-anchor="middle" x="1567.32" y="-212.9" font-family="Arial" font-size="9.00" fill="white">WildcatSanctionsEscrow.sol</text>
<text text-anchor="middle" x="1567.32" y="-202.4" font-family="Arial" font-size="9.00" fill="white">├─ releaseEscrow() [when sanctions lifted]</text>
<text text-anchor="middle" x="1567.32" y="-191.9" font-family="Arial" font-size="9.00" fill="white">├─ escrowedAsset() / escrowedAmount() [view]</text>
<text text-anchor="middle" x="1567.32" y="-181.4" font-family="Arial" font-size="9.00" fill="white">├─ canReleaseEscrow() [view]</text>
<text text-anchor="middle" x="1567.32" y="-170.9" font-family="Arial" font-size="9.00" fill="white">├─ balance: uint256</text>
<text text-anchor="middle" x="1567.32" y="-160.4" font-family="Arial" font-size="9.00" fill="white">├─ account: address</text>
<text text-anchor="middle" x="1567.32" y="-149.9" font-family="Arial" font-size="9.00" fill="white">├─ borrower: address</text>
<text text-anchor="middle" x="1567.32" y="-139.4" font-family="Arial" font-size="9.00" fill="white">├─ asset: address</text>
<text text-anchor="middle" x="1567.32" y="-128.9" font-family="Arial" font-size="9.00" fill="white">└─ sentinel: address</text>
</g>
<!-- WildcatSanctionsSentinel.sol&#45;&gt;WildcatSanctionsEscrow.sol -->
<g id="edge69" class="edge">
<title>WildcatSanctionsSentinel.sol&#45;&gt;WildcatSanctionsEscrow.sol</title>
<path fill="none" stroke="#dc143c" stroke-width="2" d="M2538.53,-359.55C2503.9,-336.52 2463.42,-313.25 2423.32,-298.4 2196.51,-214.42 1916.2,-187.35 1739.53,-178.82"/>
<polygon fill="#dc143c" stroke="#dc143c" stroke-width="2" points="1741.22,-175.39 1731.07,-178.42 1740.9,-182.38 1741.22,-175.39"/>
<text text-anchor="middle" x="2399.12" y="-272.8" font-family="Arial" font-size="8.00">Create: createEscrow()</text>
</g>
<!-- IWildcatSanctionsSentinel.sol -->
<g id="node33" class="node">
<title>IWildcatSanctionsSentinel.sol</title>
<polygon fill="#ffd700" stroke="black" points="2702.7,-204.45 2559.95,-204.45 2559.95,-143.95 2708.7,-143.95 2708.7,-198.45 2702.7,-204.45"/>
<polyline fill="none" stroke="black" points="2702.7,-204.45 2702.7,-198.45"/>
<polyline fill="none" stroke="black" points="2708.7,-198.45 2702.7,-198.45"/>
<text text-anchor="middle" x="2634.32" y="-191.9" font-family="Arial" font-size="9.00">IWildcatSanctionsSentinel.sol</text>
<text text-anchor="middle" x="2634.32" y="-181.4" font-family="Arial" font-size="9.00">├─ Sanctions checking interface</text>
<text text-anchor="middle" x="2634.32" y="-170.9" font-family="Arial" font-size="9.00">├─ Override management</text>
<text text-anchor="middle" x="2634.32" y="-160.4" font-family="Arial" font-size="9.00">├─ Escrow creation</text>
<text text-anchor="middle" x="2634.32" y="-149.9" font-family="Arial" font-size="9.00">└─ Query functions</text>
</g>
<!-- WildcatSanctionsSentinel.sol&#45;&gt;IWildcatSanctionsSentinel.sol -->
<g id="edge13" class="edge">
<title>WildcatSanctionsSentinel.sol&#45;&gt;IWildcatSanctionsSentinel.sol</title>
<path fill="none" stroke="#808080" stroke-dasharray="1,5" d="M2634.32,-354.62C2634.32,-308.97 2634.32,-253.17 2634.32,-216.04"/>
<polygon fill="#808080" stroke="#808080" points="2637.82,-216.19 2634.32,-206.19 2630.82,-216.19 2637.82,-216.19"/>
<text text-anchor="middle" x="2654.57" y="-272.8" font-family="Arial" font-size="8.00">implements</text>
</g>
<!-- Chainalysis Oracle -->
<g id="node52" class="node">
<title>Chainalysis Oracle</title>
<ellipse fill="#c0c0c0" stroke="black" stroke-dasharray="5,2" cx="2871.32" cy="-174.2" rx="94.05" ry="35.36"/>
<text text-anchor="middle" x="2871.32" y="-186.65" font-family="Arial" font-size="9.00">Chainalysis Sanctions List</text>
<text text-anchor="middle" x="2871.32" y="-176.15" font-family="Arial" font-size="9.00">├─ Real&#45;time sanctions data</text>
<text text-anchor="middle" x="2871.32" y="-165.65" font-family="Arial" font-size="9.00">├─ Address checking</text>
<text text-anchor="middle" x="2871.32" y="-155.15" font-family="Arial" font-size="9.00">└─ Compliance verification</text>
</g>
<!-- WildcatSanctionsSentinel.sol&#45;&gt;Chainalysis Oracle -->
<g id="edge47" class="edge">
<title>WildcatSanctionsSentinel.sol&#45;&gt;Chainalysis Oracle</title>
<path fill="none" stroke="#008000" stroke-dasharray="5,2" d="M2706.07,-354.62C2748.13,-308.97 2799.53,-253.15 2833.73,-216.02"/>
<polygon fill="#008000" stroke="#008000" points="2835.96,-218.77 2840.16,-209.04 2830.81,-214.02 2835.96,-218.77"/>
<text text-anchor="middle" x="2822.65" y="-272.8" font-family="Arial" font-size="8.00">Oracle: sanctions check</text>
</g>
<!-- IWildcatSanctionsEscrow.sol -->
<g id="node34" class="node">
<title>IWildcatSanctionsEscrow.sol</title>
<polygon fill="#ffd700" stroke="black" points="1627.45,-50 1501.2,-50 1501.2,0 1633.45,0 1633.45,-44 1627.45,-50"/>
<polyline fill="none" stroke="black" points="1627.45,-50 1627.45,-44"/>
<polyline fill="none" stroke="black" points="1633.45,-44 1627.45,-44"/>
<text text-anchor="middle" x="1567.32" y="-37.45" font-family="Arial" font-size="9.00">IWildcatSanctionsEscrow.sol</text>
<text text-anchor="middle" x="1567.32" y="-26.95" font-family="Arial" font-size="9.00">├─ Escrow release interface</text>
<text text-anchor="middle" x="1567.32" y="-16.45" font-family="Arial" font-size="9.00">├─ Balance queries</text>
<text text-anchor="middle" x="1567.32" y="-5.95" font-family="Arial" font-size="9.00">└─ Status functions</text>
</g>
<!-- WildcatSanctionsEscrow.sol&#45;&gt;IWildcatSanctionsEscrow.sol -->
<g id="edge14" class="edge">
<title>WildcatSanctionsEscrow.sol&#45;&gt;IWildcatSanctionsEscrow.sol</title>
<path fill="none" stroke="#808080" stroke-dasharray="1,5" d="M1567.32,-95.29C1567.32,-83.49 1567.32,-71.84 1567.32,-61.56"/>
<polygon fill="#808080" stroke="#808080" points="1570.82,-61.7 1567.32,-51.7 1563.82,-61.7 1570.82,-61.7"/>
<text text-anchor="middle" x="1587.57" y="-70.15" font-family="Arial" font-size="8.00">implements</text>
</g>
<!-- MarketLens.sol -->
<g id="node27" class="node">
<title>MarketLens.sol</title>
<ellipse fill="#20b2aa" stroke="black" cx="4738.32" cy="-2133.18" rx="151.32" ry="72.48"/>
<text text-anchor="middle" x="4738.32" y="-2171.88" font-family="Arial" font-size="9.00">MarketLens.sol</text>
<text text-anchor="middle" x="4738.32" y="-2161.38" font-family="Arial" font-size="9.00">├─ getMarketsForBorrower(address)</text>
<text text-anchor="middle" x="4738.32" y="-2150.88" font-family="Arial" font-size="9.00">├─ getMarketsForHooksTemplate(bytes32)</text>
<text text-anchor="middle" x="4738.32" y="-2140.38" font-family="Arial" font-size="9.00">├─ getMarketData(address) [comprehensive]</text>
<text text-anchor="middle" x="4738.32" y="-2129.88" font-family="Arial" font-size="9.00">├─ getLenderData(address,address)</text>
<text text-anchor="middle" x="4738.32" y="-2119.38" font-family="Arial" font-size="9.00">├─ getWithdrawalBatchesData(address,uint32[])</text>
<text text-anchor="middle" x="4738.32" y="-2108.88" font-family="Arial" font-size="9.00">├─ getHooksTemplateDetails(bytes32)</text>
<text text-anchor="middle" x="4738.32" y="-2098.38" font-family="Arial" font-size="9.00">├─ getMultipleMarketData(address[])</text>
<text text-anchor="middle" x="4738.32" y="-2087.88" font-family="Arial" font-size="9.00">└─ Aggregated view functions</text>
</g>
<!-- MarketLens.sol&#45;&gt;WildcatArchController.sol -->
<g id="edge81" class="edge">
<title>MarketLens.sol&#45;&gt;WildcatArchController.sol</title>
<path fill="none" stroke="#20b2aa" stroke-dasharray="1,5" d="M4865.98,-2093.76C4951.12,-2066.82 5049.54,-2032.59 5061.32,-2014.95 5086.05,-1977.95 5053.01,-1707.11 5032.47,-1557.73"/>
<polygon fill="#20b2aa" stroke="#20b2aa" points="5036,-1557.67 5031.16,-1548.25 5029.07,-1558.63 5036,-1557.67"/>
<text text-anchor="middle" x="5096.83" y="-1813.35" font-family="Arial" font-size="8.00">Read: registry data</text>
</g>
<!-- MarketLens.sol&#45;&gt;HooksFactory.sol -->
<g id="edge80" class="edge">
<title>MarketLens.sol&#45;&gt;HooksFactory.sol</title>
<path fill="none" stroke="#20b2aa" stroke-dasharray="1,5" d="M4596.82,-2106.98C4375.12,-2067.51 3948.61,-1991.57 3729.18,-1952.5"/>
<polygon fill="#20b2aa" stroke="#20b2aa" points="3729.88,-1949.06 3719.42,-1950.76 3728.65,-1955.96 3729.88,-1949.06"/>
<text text-anchor="middle" x="4265" y="-2035.1" font-family="Arial" font-size="8.00">Read: hooks data</text>
</g>
<!-- MarketLens.sol&#45;&gt;WildcatMarket.sol -->
<g id="edge79" class="edge">
<title>MarketLens.sol&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#20b2aa" stroke-dasharray="1,5" d="M4586.99,-2127.8C4271.13,-2117.82 3551.08,-2090.5 3310.32,-2042.7 3035.74,-1988.18 2987.72,-1899.14 2714.32,-1838.95 2279.73,-1743.27 1749.72,-1713.43 1514.66,-1704.53"/>
<polygon fill="#20b2aa" stroke="#20b2aa" points="1514.99,-1701.04 1504.86,-1704.17 1514.73,-1708.04 1514.99,-1701.04"/>
<text text-anchor="middle" x="3223.2" y="-1924.22" font-family="Arial" font-size="8.00">Read: market data</text>
</g>
<!-- MarketLens.sol&#45;&gt;AccessControlHooks.sol -->
<g id="edge82" class="edge">
<title>MarketLens.sol&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#20b2aa" stroke-dasharray="1,5" d="M4742.4,-2060.43C4745.91,-2001.04 4751.35,-1914.47 4757.32,-1838.95 4774.29,-1624.64 4889.44,-1542.91 4783.32,-1355.95 4611.36,-1052.98 4442.38,-1059.48 4110.32,-954.11 3725.76,-832.08 2531.22,-792.28 2019.69,-780.62"/>
<polygon fill="#20b2aa" stroke="#20b2aa" points="2020.07,-777.13 2009.99,-780.4 2019.91,-784.13 2020.07,-777.13"/>
<text text-anchor="middle" x="4853.3" y="-1581.1" font-family="Arial" font-size="8.00">Read: lender status</text>
</g>
<!-- HooksDataStructs.sol -->
<g id="node28" class="node">
<title>HooksDataStructs.sol</title>
<ellipse fill="#20b2aa" stroke="black" cx="4909.32" cy="-1926.95" rx="142.84" ry="50.2"/>
<text text-anchor="middle" x="4909.32" y="-1949.9" font-family="Arial" font-size="9.00">Lens Data Structures</text>
<text text-anchor="middle" x="4909.32" y="-1939.4" font-family="Arial" font-size="9.00">├─ MarketData / LenderAccountData</text>
<text text-anchor="middle" x="4909.32" y="-1928.9" font-family="Arial" font-size="9.00">├─ WithdrawalBatchData / TokenData</text>
<text text-anchor="middle" x="4909.32" y="-1918.4" font-family="Arial" font-size="9.00">├─ HooksTemplateData / HooksInstanceData</text>
<text text-anchor="middle" x="4909.32" y="-1907.9" font-family="Arial" font-size="9.00">├─ HooksConfigData / RoleProviderData</text>
<text text-anchor="middle" x="4909.32" y="-1897.4" font-family="Arial" font-size="9.00">└─ Comprehensive data containers</text>
</g>
<!-- MarketLens.sol&#45;&gt;HooksDataStructs.sol -->
<g id="edge32" class="edge">
<title>MarketLens.sol&#45;&gt;HooksDataStructs.sol</title>
<path fill="none" stroke="#20b2aa" stroke-dasharray="1,5" d="M4794.08,-2065.59C4816.14,-2039.24 4841.21,-2009.3 4862.33,-1984.08"/>
<polygon fill="#20b2aa" stroke="#20b2aa" points="4864.91,-1986.45 4868.65,-1976.53 4859.54,-1981.95 4864.91,-1986.45"/>
<text text-anchor="middle" x="4831.45" y="-2035.1" font-family="Arial" font-size="8.00">returns</text>
</g>
<!-- IERC20.sol -->
<g id="node35" class="node">
<title>IERC20.sol</title>
<polygon fill="#ffd700" stroke="black" points="3410.82,-2357.91 3277.82,-2357.91 3277.82,-2286.91 3416.82,-2286.91 3416.82,-2351.91 3410.82,-2357.91"/>
<polyline fill="none" stroke="black" points="3410.82,-2357.91 3410.82,-2351.91"/>
<polyline fill="none" stroke="black" points="3416.82,-2351.91 3410.82,-2351.91"/>
<text text-anchor="middle" x="3347.32" y="-2345.36" font-family="Arial" font-size="9.00">IERC20.sol</text>
<text text-anchor="middle" x="3347.32" y="-2334.86" font-family="Arial" font-size="9.00">├─ Standard ERC20 interface</text>
<text text-anchor="middle" x="3347.32" y="-2324.36" font-family="Arial" font-size="9.00">├─ transfer() / transferFrom()</text>
<text text-anchor="middle" x="3347.32" y="-2313.86" font-family="Arial" font-size="9.00">├─ approve() / allowance()</text>
<text text-anchor="middle" x="3347.32" y="-2303.36" font-family="Arial" font-size="9.00">├─ totalSupply() / balanceOf()</text>
<text text-anchor="middle" x="3347.32" y="-2292.86" font-family="Arial" font-size="9.00">└─ Standard functions</text>
</g>
<!-- IChainalysisSanctionsList.sol -->
<g id="node36" class="node">
<title>IChainalysisSanctionsList.sol</title>
<polygon fill="#ffd700" stroke="black" points="2982.95,-453.28 2853.7,-453.28 2853.7,-413.78 2988.95,-413.78 2988.95,-447.28 2982.95,-453.28"/>
<polyline fill="none" stroke="black" points="2982.95,-453.28 2982.95,-447.28"/>
<polyline fill="none" stroke="black" points="2988.95,-447.28 2982.95,-447.28"/>
<text text-anchor="middle" x="2921.32" y="-440.73" font-family="Arial" font-size="9.00">IChainalysisSanctionsList.sol</text>
<text text-anchor="middle" x="2921.32" y="-430.23" font-family="Arial" font-size="9.00">├─ isSanctioned(address)</text>
<text text-anchor="middle" x="2921.32" y="-419.73" font-family="Arial" font-size="9.00">└─ External oracle interface</text>
</g>
<!-- IChainalysisSanctionsList.sol&#45;&gt;Chainalysis Oracle -->
<g id="edge91" class="edge">
<title>IChainalysisSanctionsList.sol&#45;&gt;Chainalysis Oracle</title>
<path fill="none" stroke="#dc143c" stroke-dasharray="5,2" d="M2917.65,-413.61C2909.82,-373.32 2891.32,-278.09 2880.21,-220.93"/>
<polygon fill="#dc143c" stroke="#dc143c" points="2883.66,-220.32 2878.31,-211.17 2876.79,-221.66 2883.66,-220.32"/>
<text text-anchor="middle" x="2933.88" y="-272.8" font-family="Arial" font-size="8.00">Interface: sanctions data</text>
</g>
<!-- ISphereXProtectedRegisteredBase.sol -->
<g id="node37" class="node">
<title>ISphereXProtectedRegisteredBase.sol</title>
<polygon fill="#ffd700" stroke="black" points="3602.07,-2347.41 3434.57,-2347.41 3434.57,-2297.41 3608.07,-2297.41 3608.07,-2341.41 3602.07,-2347.41"/>
<polyline fill="none" stroke="black" points="3602.07,-2347.41 3602.07,-2341.41"/>
<polyline fill="none" stroke="black" points="3608.07,-2341.41 3602.07,-2341.41"/>
<text text-anchor="middle" x="3521.32" y="-2334.86" font-family="Arial" font-size="9.00">ISphereXProtectedRegisteredBase.sol</text>
<text text-anchor="middle" x="3521.32" y="-2324.36" font-family="Arial" font-size="9.00">├─ SphereX integration interface</text>
<text text-anchor="middle" x="3521.32" y="-2313.86" font-family="Arial" font-size="9.00">├─ Function registration</text>
<text text-anchor="middle" x="3521.32" y="-2303.36" font-family="Arial" font-size="9.00">└─ Protection validation</text>
</g>
<!-- SphereXConfig.sol -->
<g id="node39" class="node">
<title>SphereXConfig.sol</title>
<path fill="#9370db" stroke="black" d="M3819.98,-2389.48C3819.98,-2389.48 3637.66,-2326.33 3637.66,-2326.33 3631.99,-2324.37 3631.99,-2320.44 3637.66,-2318.48 3637.66,-2318.48 3819.98,-2255.33 3819.98,-2255.33 3825.65,-2253.37 3836.99,-2253.37 3842.66,-2255.33 3842.66,-2255.33 4024.98,-2318.48 4024.98,-2318.48 4030.65,-2320.44 4030.65,-2324.37 4024.98,-2326.33 4024.98,-2326.33 3842.66,-2389.48 3842.66,-2389.48 3836.99,-2391.44 3825.65,-2391.44 3819.98,-2389.48"/>
<text text-anchor="middle" x="3831.32" y="-2345.36" font-family="Arial" font-size="9.00" fill="white">SphereXConfig.sol</text>
<text text-anchor="middle" x="3831.32" y="-2334.86" font-family="Arial" font-size="9.00" fill="white">├─ changeSphereXEngine() [admin]</text>
<text text-anchor="middle" x="3831.32" y="-2324.36" font-family="Arial" font-size="9.00" fill="white">├─ addAllowedSenderOnEngine() [admin]</text>
<text text-anchor="middle" x="3831.32" y="-2313.86" font-family="Arial" font-size="9.00" fill="white">├─ removeAllowedSenderOnEngine() [admin]</text>
<text text-anchor="middle" x="3831.32" y="-2303.36" font-family="Arial" font-size="9.00" fill="white">├─ sphereXEngine() [view]</text>
<text text-anchor="middle" x="3831.32" y="-2292.86" font-family="Arial" font-size="9.00" fill="white">└─ Engine configuration</text>
</g>
<!-- ISphereXEngine.sol -->
<g id="node40" class="node">
<title>ISphereXEngine.sol</title>
<path fill="#9370db" stroke="black" d="M3085.31,-2388.63C3085.31,-2388.63 2943.58,-2327.18 2943.58,-2327.18 2938.08,-2324.79 2938.08,-2320.02 2943.58,-2317.63 2943.58,-2317.63 3085.31,-2256.18 3085.31,-2256.18 3090.82,-2253.79 3101.83,-2253.79 3107.33,-2256.18 3107.33,-2256.18 3249.06,-2317.63 3249.06,-2317.63 3254.57,-2320.02 3254.57,-2324.79 3249.06,-2327.18 3249.06,-2327.18 3107.33,-2388.63 3107.33,-2388.63 3101.83,-2391.02 3090.82,-2391.02 3085.31,-2388.63"/>
<text text-anchor="middle" x="3096.32" y="-2345.36" font-family="Arial" font-size="9.00" fill="white">ISphereXEngine.sol</text>
<text text-anchor="middle" x="3096.32" y="-2334.86" font-family="Arial" font-size="9.00" fill="white">├─ sphereXValidatePre() [external]</text>
<text text-anchor="middle" x="3096.32" y="-2324.36" font-family="Arial" font-size="9.00" fill="white">├─ sphereXValidatePost() [external]</text>
<text text-anchor="middle" x="3096.32" y="-2313.86" font-family="Arial" font-size="9.00" fill="white">├─ addAllowedSender() [admin]</text>
<text text-anchor="middle" x="3096.32" y="-2303.36" font-family="Arial" font-size="9.00" fill="white">├─ removeAllowedSender() [admin]</text>
<text text-anchor="middle" x="3096.32" y="-2292.86" font-family="Arial" font-size="9.00" fill="white">└─ Engine interface</text>
</g>
<!-- SphereX Engine -->
<g id="node53" class="node">
<title>SphereX Engine</title>
<ellipse fill="#c0c0c0" stroke="black" stroke-dasharray="5,2" cx="3096.32" cy="-2133.18" rx="88.74" ry="50.2"/>
<text text-anchor="middle" x="3096.32" y="-2156.13" font-family="Arial" font-size="9.00">SphereX Security Engine</text>
<text text-anchor="middle" x="3096.32" y="-2145.63" font-family="Arial" font-size="9.00">├─ Transaction monitoring</text>
<text text-anchor="middle" x="3096.32" y="-2135.13" font-family="Arial" font-size="9.00">├─ Threat detection</text>
<text text-anchor="middle" x="3096.32" y="-2124.63" font-family="Arial" font-size="9.00">├─ Real&#45;time protection</text>
<text text-anchor="middle" x="3096.32" y="-2114.13" font-family="Arial" font-size="9.00">├─ Sender validation</text>
<text text-anchor="middle" x="3096.32" y="-2103.63" font-family="Arial" font-size="9.00">└─ Security enforcement</text>
</g>
<!-- ISphereXEngine.sol&#45;&gt;SphereX Engine -->
<g id="edge92" class="edge">
<title>ISphereXEngine.sol&#45;&gt;SphereX Engine</title>
<path fill="none" stroke="#9370db" stroke-dasharray="5,2" d="M3096.32,-2250.89C3096.32,-2232.52 3096.32,-2212.89 3096.32,-2195.07"/>
<polygon fill="#9370db" stroke="#9370db" points="3099.82,-2195.16 3096.32,-2185.16 3092.82,-2195.16 3099.82,-2195.16"/>
<text text-anchor="middle" x="3140.95" y="-2225.81" font-family="Arial" font-size="8.00">Interface: security engine</text>
</g>
<!-- FunctionTypeCasts.sol -->
<g id="node45" class="node">
<title>FunctionTypeCasts.sol</title>
<path fill="#87ceeb" stroke="black" d="M4356.65,-2372.41C4356.65,-2372.41 4130.38,-2372.41 4130.38,-2372.41 4124.38,-2372.41 4115.13,-2367.36 4111.88,-2362.32 4111.88,-2362.32 4060.49,-2282.5 4060.49,-2282.5 4057.24,-2277.45 4060,-2272.41 4066,-2272.41 4066,-2272.41 4292.27,-2272.41 4292.27,-2272.41 4298.27,-2272.41 4307.52,-2277.45 4310.77,-2282.5 4310.77,-2282.5 4362.16,-2362.32 4362.16,-2362.32 4365.4,-2367.36 4362.65,-2372.41 4356.65,-2372.41"/>
<text text-anchor="middle" x="4211.32" y="-2334.86" font-family="Arial" font-size="9.00">FunctionTypeCasts Library</text>
<text text-anchor="middle" x="4211.32" y="-2324.36" font-family="Arial" font-size="9.00">├─ Function pointer casting</text>
<text text-anchor="middle" x="4211.32" y="-2313.86" font-family="Arial" font-size="9.00">├─ Assembly&#45;based conversions</text>
<text text-anchor="middle" x="4211.32" y="-2303.36" font-family="Arial" font-size="9.00">└─ Type manipulation utilities</text>
</g>
<!-- FIFOQueue.sol -->
<g id="node46" class="node">
<title>FIFOQueue.sol</title>
<path fill="#87ceeb" stroke="black" d="M4625.77,-2382.91C4625.77,-2382.91 4450.21,-2382.91 4450.21,-2382.91 4444.21,-2382.91 4435.87,-2377.38 4433.53,-2371.86 4433.53,-2371.86 4391.56,-2272.95 4391.56,-2272.95 4389.22,-2267.43 4392.88,-2261.91 4398.88,-2261.91 4398.88,-2261.91 4574.44,-2261.91 4574.44,-2261.91 4580.44,-2261.91 4588.78,-2267.43 4591.12,-2272.95 4591.12,-2272.95 4633.08,-2371.86 4633.08,-2371.86 4635.43,-2377.38 4631.77,-2382.91 4625.77,-2382.91"/>
<text text-anchor="middle" x="4512.32" y="-2340.11" font-family="Arial" font-size="9.00">FIFOQueue Library</text>
<text text-anchor="middle" x="4512.32" y="-2329.61" font-family="Arial" font-size="9.00">├─ First&#45;in&#45;first&#45;out queue</text>
<text text-anchor="middle" x="4512.32" y="-2319.11" font-family="Arial" font-size="9.00">├─ push() / pop() / peek()</text>
<text text-anchor="middle" x="4512.32" y="-2308.61" font-family="Arial" font-size="9.00">├─ Queue manipulation</text>
<text text-anchor="middle" x="4512.32" y="-2298.11" font-family="Arial" font-size="9.00">└─ Data structure utilities</text>
</g>
<!-- Protocol Owner -->
<g id="node47" class="node">
<title>Protocol Owner</title>
<ellipse fill="#c0c0c0" stroke="black" stroke-dasharray="5,2" cx="5082.32" cy="-2133.18" rx="87.15" ry="57.63"/>
<text text-anchor="middle" x="5082.32" y="-2161.38" font-family="Arial" font-size="9.00">Protocol Owner</text>
<text text-anchor="middle" x="5082.32" y="-2150.88" font-family="Arial" font-size="9.00">[Multisig/DAO]</text>
<text text-anchor="middle" x="5082.32" y="-2140.38" font-family="Arial" font-size="9.00">├─ Registry management</text>
<text text-anchor="middle" x="5082.32" y="-2129.88" font-family="Arial" font-size="9.00">├─ Template approval</text>
<text text-anchor="middle" x="5082.32" y="-2119.38" font-family="Arial" font-size="9.00">├─ Fee configuration</text>
<text text-anchor="middle" x="5082.32" y="-2108.88" font-family="Arial" font-size="9.00">├─ Asset blacklisting</text>
<text text-anchor="middle" x="5082.32" y="-2098.38" font-family="Arial" font-size="9.00">└─ SphereX configuration</text>
</g>
<!-- Protocol Owner&#45;&gt;WildcatArchController.sol -->
<g id="edge33" class="edge">
<title>Protocol Owner&#45;&gt;WildcatArchController.sol</title>
<path fill="none" stroke="#ff0000" stroke-width="2" d="M5104.88,-2077.29C5128.38,-2013.77 5160.37,-1905.77 5149.32,-1811.2 5137.02,-1705.84 5135.58,-1676.67 5094.32,-1578.95 5091.2,-1571.55 5087.64,-1564.1 5083.8,-1556.72"/>
<polygon fill="#ff0000" stroke="#ff0000" stroke-width="2" points="5087.67,-1556.53 5079.84,-1549.39 5081.51,-1559.85 5087.67,-1556.53"/>
<text text-anchor="middle" x="5200.66" y="-1813.35" font-family="Arial" font-size="8.00">1. Setup: registerBorrower()</text>
</g>
<!-- Protocol Owner&#45;&gt;HooksFactory.sol -->
<g id="edge34" class="edge">
<title>Protocol Owner&#45;&gt;HooksFactory.sol</title>
<path fill="none" stroke="#ff0000" stroke-width="2" d="M5015.16,-2095.83C4969.54,-2073.14 4907.04,-2045.87 4848.32,-2032.95 4726.51,-2006.15 4411.67,-2024.7 4287.32,-2014.95 4092.74,-1999.7 3868.97,-1969.44 3728.85,-1948.94"/>
<polygon fill="#ff0000" stroke="#ff0000" stroke-width="2" points="3731.05,-1945.73 3720.65,-1947.74 3730.03,-1952.66 3731.05,-1945.73"/>
<text text-anchor="middle" x="4936.06" y="-2035.1" font-family="Arial" font-size="8.00">2. Setup: addHooksTemplate()</text>
</g>
<!-- Borrower -->
<g id="node48" class="node">
<title>Borrower</title>
<ellipse fill="#c0c0c0" stroke="black" stroke-dasharray="5,2" cx="830.32" cy="-2133.18" rx="101.47" ry="65.05"/>
<text text-anchor="middle" x="830.32" y="-2166.63" font-family="Arial" font-size="9.00">Registered Borrower</text>
<text text-anchor="middle" x="830.32" y="-2156.13" font-family="Arial" font-size="9.00">├─ Market deployment</text>
<text text-anchor="middle" x="830.32" y="-2145.63" font-family="Arial" font-size="9.00">├─ Hooks configuration</text>
<text text-anchor="middle" x="830.32" y="-2135.13" font-family="Arial" font-size="9.00">├─ Parameter management</text>
<text text-anchor="middle" x="830.32" y="-2124.63" font-family="Arial" font-size="9.00">├─ Emergency operations</text>
<text text-anchor="middle" x="830.32" y="-2114.13" font-family="Arial" font-size="9.00">├─ Role provider management</text>
<text text-anchor="middle" x="830.32" y="-2103.63" font-family="Arial" font-size="9.00">├─ Access control</text>
<text text-anchor="middle" x="830.32" y="-2093.13" font-family="Arial" font-size="9.00">└─ Borrowing operations</text>
</g>
<!-- Borrower&#45;&gt;HooksFactory.sol -->
<g id="edge35" class="edge">
<title>Borrower&#45;&gt;HooksFactory.sol</title>
<path fill="none" stroke="#ff0000" stroke-width="2" d="M932.19,-2131.11C1250.62,-2126.86 2255.31,-2106.59 3081.32,-2014.95 3208.26,-2000.87 3351.53,-1975.59 3453.83,-1955.89"/>
<polygon fill="#ff0000" stroke="#ff0000" stroke-width="2" points="3452.72,-1959.67 3461.87,-1954.34 3451.39,-1952.8 3452.72,-1959.67"/>
<text text-anchor="middle" x="2959.62" y="-2035.1" font-family="Arial" font-size="8.00">3. Deploy: deployHooksInstance()</text>
</g>
<!-- Borrower&#45;&gt;HooksFactory.sol -->
<g id="edge36" class="edge">
<title>Borrower&#45;&gt;HooksFactory.sol</title>
<path fill="none" stroke="#ff0000" stroke-width="2" d="M931.82,-2126.91C1369.6,-2104.2 3074.54,-2015.7 3081.32,-2014.95 3208.26,-2000.87 3351.53,-1975.59 3453.83,-1955.89"/>
<polygon fill="#ff0000" stroke="#ff0000" stroke-width="2" points="3452.72,-1959.67 3461.87,-1954.34 3451.39,-1952.8 3452.72,-1959.67"/>
<text text-anchor="middle" x="2746.75" y="-2035.1" font-family="Arial" font-size="8.00">4. Deploy: deployMarket()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarket.sol -->
<g id="edge48" class="edge">
<title>Borrower&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#800080" stroke-width="2" d="M887.31,-2078.83C896.8,-2067.67 905.69,-2055.4 912.32,-2042.7 955.29,-1960.43 897.74,-1909.47 958.07,-1838.95 1035.2,-1748.81 1170.99,-1716.92 1270.24,-1705.97"/>
<polygon fill="#800080" stroke="#800080" stroke-width="2" points="1268.96,-1709.62 1278.54,-1705.11 1268.23,-1702.66 1268.96,-1709.62"/>
<text text-anchor="middle" x="989.2" y="-1924.22" font-family="Arial" font-size="8.00">Borrow: borrow()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarket.sol -->
<g id="edge49" class="edge">
<title>Borrower&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#800080" stroke-width="2" d="M916.03,-2098.17C953.5,-2079.09 994.68,-2051.65 1020.32,-2014.95 1066.05,-1949.5 1006.38,-1901.24 1056.32,-1838.95 1108.67,-1773.67 1197.02,-1738.99 1269.99,-1720.72"/>
<polygon fill="#800080" stroke="#800080" stroke-width="2" points="1269.25,-1724.5 1278.15,-1718.75 1267.61,-1717.69 1269.25,-1724.5"/>
<text text-anchor="middle" x="1083.32" y="-1924.22" font-family="Arial" font-size="8.00">Repay: repay()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarket.sol -->
<g id="edge51" class="edge">
<title>Borrower&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#dc143c" stroke-width="2" d="M928.21,-2115.27C989.44,-2099.58 1065.02,-2069.98 1110.32,-2014.95 1161.08,-1953.29 1099.45,-1903.43 1146.57,-1838.95 1177.51,-1796.62 1225.6,-1765.55 1271.06,-1743.73"/>
<polygon fill="#dc143c" stroke="#dc143c" stroke-width="2" points="1271,-1747.62 1278.58,-1740.22 1268.04,-1741.28 1271,-1747.62"/>
<text text-anchor="middle" x="1196.45" y="-1924.22" font-family="Arial" font-size="8.00">Emergency: rescueTokens()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarket.sol -->
<g id="edge52" class="edge">
<title>Borrower&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#dc143c" stroke-width="2" d="M928.77,-2116.5C1037.64,-2097.15 1203.38,-2061.08 1246.32,-2014.95 1300.74,-1956.49 1248.74,-1911.29 1282.57,-1838.95 1288.3,-1826.7 1295.33,-1814.56 1303.02,-1802.87"/>
<polygon fill="#dc143c" stroke="#dc143c" stroke-width="2" points="1304.9,-1806.34 1307.63,-1796.1 1299.11,-1802.4 1304.9,-1806.34"/>
<text text-anchor="middle" x="1332.45" y="-1924.22" font-family="Arial" font-size="8.00">Emergency: forceBuyBack()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarket.sol -->
<g id="edge73" class="edge">
<title>Borrower&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#daa520" d="M931.53,-2125.27C1074.79,-2113.19 1325.63,-2082.72 1382.32,-2014.95 1430.23,-1957.69 1429.76,-1871.89 1418.96,-1804.45"/>
<polygon fill="#daa520" stroke="#daa520" points="1422.46,-1804.12 1417.32,-1794.85 1415.56,-1805.3 1422.46,-1804.12"/>
<text text-anchor="middle" x="1462.03" y="-1924.22" font-family="Arial" font-size="8.00">Collect: collectFees()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarketConfig.sol -->
<g id="edge53" class="edge">
<title>Borrower&#45;&gt;WildcatMarketConfig.sol</title>
<path fill="none" stroke="#dc143c" stroke-width="2" d="M730.64,-2119.77C673.37,-2108.16 603.32,-2085.76 554.32,-2042.7 472.42,-1970.71 481.9,-1925.02 449.32,-1820.95 418.73,-1723.21 402.89,-1605.44 395.34,-1531.48"/>
<polygon fill="#dc143c" stroke="#dc143c" stroke-width="2" points="399.02,-1533.07 394.54,-1523.46 392.05,-1533.76 399.02,-1533.07"/>
<text text-anchor="middle" x="501.82" y="-1813.35" font-family="Arial" font-size="8.00">Emergency: nukeFromOrbit()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarketConfig.sol -->
<g id="edge59" class="edge">
<title>Borrower&#45;&gt;WildcatMarketConfig.sol</title>
<path fill="none" stroke="#800080" stroke-width="2" d="M728.68,-2129.25C568.58,-2122.85 266.95,-2102.93 180.32,-2042.7 85.34,-1976.66 34.19,-1923.66 61.32,-1811.2 88.53,-1698.45 100.22,-1662.82 180.32,-1578.95 199.95,-1558.4 223.89,-1540.34 248.46,-1524.9"/>
<polygon fill="#800080" stroke="#800080" stroke-width="2" points="249,-1528.67 255.7,-1520.47 245.34,-1522.71 249,-1528.67"/>
<text text-anchor="middle" x="116.82" y="-1813.35" font-family="Arial" font-size="8.00">Config: setAnnualInterestBips()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarketConfig.sol -->
<g id="edge62" class="edge">
<title>Borrower&#45;&gt;WildcatMarketConfig.sol</title>
<path fill="none" stroke="#800080" d="M730.04,-2121.95C647.48,-2109.02 531.4,-2079.95 451.32,-2014.95 374.75,-1952.79 368.31,-1916.43 343.57,-1820.95 318.07,-1722.51 342.63,-1605.16 364.44,-1531.46"/>
<polygon fill="#800080" stroke="#800080" points="367.79,-1532.5 367.34,-1521.91 361.09,-1530.47 367.79,-1532.5"/>
<text text-anchor="middle" x="393.45" y="-1813.35" font-family="Arial" font-size="8.00">Config: setMaxTotalSupply()</text>
</g>
<!-- Borrower&#45;&gt;WildcatMarketConfig.sol -->
<g id="edge63" class="edge">
<title>Borrower&#45;&gt;WildcatMarketConfig.sol</title>
<path fill="none" stroke="#800080" d="M728.59,-2130.22C623.02,-2123.4 457.77,-2098.75 344.32,-2014.95 260.68,-1953.17 207.3,-1912.82 229.32,-1811.2 251.64,-1708.24 306.78,-1599.25 346.08,-1530.36"/>
<polygon fill="#800080" stroke="#800080" points="349.05,-1532.21 351,-1521.8 342.98,-1528.72 349.05,-1532.21"/>
<text text-anchor="middle" x="283.32" y="-1813.35" font-family="Arial" font-size="8.00">Config: setReserveRatioBips()</text>
</g>
<!-- Borrower&#45;&gt;AccessControlHooks.sol -->
<g id="edge54" class="edge">
<title>Borrower&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#dc143c" d="M837.54,-2067.87C848.54,-1966.27 868.99,-1762.3 876.32,-1588.7 880.87,-1481.04 772.57,-1189.79 839.32,-1105.2 1039.45,-851.56 1250.54,-1066.1 1546.32,-936.11 1572.81,-924.47 1599.53,-909.84 1625,-894.19"/>
<polygon fill="#dc143c" stroke="#dc143c" points="1626.77,-897.2 1633.41,-888.94 1623.07,-891.26 1626.77,-897.2"/>
<text text-anchor="middle" x="930.46" y="-1581.1" font-family="Arial" font-size="8.00">Manage: blockFromDeposits()</text>
</g>
<!-- Borrower&#45;&gt;AccessControlHooks.sol -->
<g id="edge83" class="edge">
<title>Borrower&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#800080" d="M773.46,-2078.77C763.97,-2067.61 755.03,-2055.36 748.32,-2042.7 651.2,-1859.47 664.68,-1794.68 640.57,-1588.7 640.07,-1584.4 637.93,-1582.38 640.57,-1578.95 659.57,-1554.25 688.37,-1584.88 708.32,-1560.95 794.95,-1457.05 658.02,-1047.04 756.32,-954.11 788.23,-923.95 1504.49,-949.42 1546.32,-936.11 1574.44,-927.16 1602.28,-913.75 1628.45,-898.43"/>
<polygon fill="#800080" stroke="#800080" points="1629.94,-901.62 1636.72,-893.48 1626.34,-895.62 1629.94,-901.62"/>
<text text-anchor="middle" x="690.45" y="-1581.1" font-family="Arial" font-size="8.00">Manage: addRoleProvider()</text>
</g>
<!-- Borrower&#45;&gt;AccessControlHooks.sol -->
<g id="edge84" class="edge">
<title>Borrower&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#800080" d="M819.15,-2068.03C802.12,-1966.63 770.45,-1762.95 759.07,-1588.7 744.99,-1372.92 773.91,-1317.81 813.32,-1105.2 825.97,-1037.01 798.05,-997.29 852.32,-954.11 882.51,-930.1 1509.59,-947.86 1546.32,-936.11 1574.2,-927.19 1601.8,-913.9 1627.79,-898.73"/>
<polygon fill="#800080" stroke="#800080" points="1629.58,-901.73 1636.37,-893.6 1625.99,-895.73 1629.58,-901.73"/>
<text text-anchor="middle" x="815.7" y="-1581.1" font-family="Arial" font-size="8.00">Manage: removeRoleProvider()</text>
</g>
<!-- Borrower&#45;&gt;FixedTermLoanHooks.sol -->
<g id="edge85" class="edge">
<title>Borrower&#45;&gt;FixedTermLoanHooks.sol</title>
<path fill="none" stroke="#800080" d="M730.06,-2122.13C599.08,-2108.22 362.93,-2080.48 163.32,-2042.7 112.51,-2033.08 91.65,-2046.04 50.32,-2014.95 14.69,-1988.14 0.32,-1972.55 0.32,-1927.95 0.32,-1927.95 0.32,-1927.95 0.32,-774.26 0.32,-701.34 -4.86,-673.89 37.32,-614.41 65.51,-574.66 105.52,-541.7 146.65,-515.34"/>
<polygon fill="#800080" stroke="#800080" points="148.38,-518.38 154.99,-510.1 144.66,-512.45 148.38,-518.38"/>
<text text-anchor="middle" x="59.95" y="-1455.72" font-family="Arial" font-size="8.00">Manage: setFixedTermEndTime()</text>
</g>
<!-- Borrower&#45;&gt;FixedTermLoanHooks.sol -->
<g id="edge86" class="edge">
<title>Borrower&#45;&gt;FixedTermLoanHooks.sol</title>
<path fill="none" stroke="#800080" d="M730.51,-2120.45C680.67,-2109.08 624.31,-2086.71 592.32,-2042.7 521.13,-1944.76 569.22,-1072.17 542.32,-954.11 512.19,-821.84 450.05,-680.74 399.31,-579.01"/>
<polygon fill="#800080" stroke="#800080" points="402.58,-577.7 394.96,-570.33 396.32,-580.84 402.58,-577.7"/>
<text text-anchor="middle" x="605.79" y="-1455.72" font-family="Arial" font-size="8.00">Manage: setMinimumDeposit()</text>
</g>
<!-- Borrower&#45;&gt;WildcatSanctionsSentinel.sol -->
<g id="edge70" class="edge">
<title>Borrower&#45;&gt;WildcatSanctionsSentinel.sol</title>
<path fill="none" stroke="#dc143c" d="M931.89,-2128.14C1241.7,-2115.96 2202.05,-2079.33 2998.32,-2060.7 3287.61,-2053.93 4012,-2067.17 4300.32,-2042.7 4379.67,-2035.97 4406.89,-2052.09 4477.32,-2014.95 4597.12,-1951.78 4636.35,-1919.07 4686.32,-1793.2 4716.91,-1716.16 4693.71,-1689.26 4686.32,-1606.7 4684.48,-1586.12 4679.91,-1581.53 4678.07,-1560.95 4669.96,-1470.2 4677.55,-1447.06 4678.07,-1355.95 4678.13,-1346.23 4678.32,-1343.8 4678.32,-1334.07 4678.32,-1334.07 4678.32,-1334.07 4678.32,-774.26 4678.32,-569.21 3037.64,-637.05 2844.32,-568.66 2807.67,-555.69 2770.87,-535.3 2738.54,-514.29"/>
<polygon fill="#dc143c" stroke="#dc143c" points="2740.64,-511.48 2730.36,-508.89 2736.78,-517.32 2740.64,-511.48"/>
<text text-anchor="middle" x="4728.7" y="-1455.72" font-family="Arial" font-size="8.00">Override: overrideSanction()</text>
</g>
<!-- Borrower&#45;&gt;WildcatSanctionsEscrow.sol -->
<g id="edge71" class="edge">
<title>Borrower&#45;&gt;WildcatSanctionsEscrow.sol</title>
<path fill="none" stroke="#dc143c" d="M749.89,-2093.32C718.72,-2074.11 685.89,-2047.9 666.32,-2014.95 615.65,-1929.57 646.3,-1892.24 639.32,-1793.2 632.63,-1698.2 589.03,-1662.18 635.32,-1578.95 642.7,-1565.69 656.95,-1574.21 664.32,-1560.95 708.62,-1481.33 706.79,-1436.56 664.32,-1355.95 657.73,-1343.43 644.67,-1350.46 638.07,-1337.95 636.05,-1334.12 638.05,-1332.53 638.07,-1328.2 639.46,-1010.95 640.93,-931.64 644.32,-614.41 645.83,-473.96 555.17,-403.53 648.32,-298.4 697.03,-243.44 1143.22,-204.23 1395.5,-186.25"/>
<polygon fill="#dc143c" stroke="#dc143c" points="1395.38,-189.77 1405.11,-185.57 1394.89,-182.78 1395.38,-189.77"/>
<text text-anchor="middle" x="684.2" y="-1330.35" font-family="Arial" font-size="8.00">Release: releaseEscrow()</text>
</g>
<!-- Lender -->
<g id="node49" class="node">
<title>Lender</title>
<ellipse fill="#c0c0c0" stroke="black" stroke-dasharray="5,2" cx="4382.32" cy="-1926.95" rx="85.56" ry="57.63"/>
<text text-anchor="middle" x="4382.32" y="-1955.15" font-family="Arial" font-size="9.00">Authorized Lender</text>
<text text-anchor="middle" x="4382.32" y="-1944.65" font-family="Arial" font-size="9.00">├─ Credential acquisition</text>
<text text-anchor="middle" x="4382.32" y="-1934.15" font-family="Arial" font-size="9.00">├─ Deposit operations</text>
<text text-anchor="middle" x="4382.32" y="-1923.65" font-family="Arial" font-size="9.00">├─ Withdrawal requests</text>
<text text-anchor="middle" x="4382.32" y="-1913.15" font-family="Arial" font-size="9.00">├─ Token transfers</text>
<text text-anchor="middle" x="4382.32" y="-1902.65" font-family="Arial" font-size="9.00">├─ Credential refresh</text>
<text text-anchor="middle" x="4382.32" y="-1892.15" font-family="Arial" font-size="9.00">└─ Market interaction</text>
</g>
<!-- Lender&#45;&gt;WildcatMarket.sol -->
<g id="edge43" class="edge">
<title>Lender&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#0000ff" stroke-width="2" d="M4302.33,-1905.94C4190.58,-1878.97 3980.99,-1831.93 3799.32,-1811.2 3558.09,-1783.66 3495.92,-1803.21 3253.32,-1793.2 2597.56,-1766.14 1812.3,-1724.03 1514.7,-1707.72"/>
<polygon fill="#0000ff" stroke="#0000ff" stroke-width="2" points="1516.67,-1704.32 1506.49,-1707.27 1516.28,-1711.31 1516.67,-1704.32"/>
<text text-anchor="middle" x="3892.09" y="-1813.35" font-family="Arial" font-size="8.00">Action: deposit()</text>
</g>
<!-- Lender&#45;&gt;WildcatMarketWithdrawals.sol -->
<g id="edge64" class="edge">
<title>Lender&#45;&gt;WildcatMarketWithdrawals.sol</title>
<path fill="none" stroke="#0000ff" stroke-width="2" d="M4385.96,-1868.88C4387.31,-1799.37 4379.25,-1681.92 4318.32,-1606.7 4305.61,-1591 4287.68,-1605.58 4276.57,-1588.7 4274.19,-1585.08 4273.97,-1582.41 4276.57,-1578.95 4294.03,-1555.78 4321.86,-1584.12 4339.32,-1560.95 4394.15,-1488.18 4391.17,-1430.87 4339.32,-1355.95 4280.88,-1271.49 4167.47,-1235.41 4077.78,-1220.04"/>
<polygon fill="#0000ff" stroke="#0000ff" stroke-width="2" points="4080.11,-1216.87 4069.67,-1218.71 4078.98,-1223.78 4080.11,-1216.87"/>
<text text-anchor="middle" x="4327.95" y="-1581.1" font-family="Arial" font-size="8.00">Request: queueWithdrawal()</text>
</g>
<!-- Lender&#45;&gt;WildcatMarketWithdrawals.sol -->
<g id="edge67" class="edge">
<title>Lender&#45;&gt;WildcatMarketWithdrawals.sol</title>
<path fill="none" stroke="#0000ff" stroke-width="2" d="M4387.88,-1869.06C4399.2,-1742.77 4420.1,-1443.31 4373.32,-1355.95 4344.45,-1302.01 4191.69,-1258.94 4077.53,-1233.63"/>
<polygon fill="#0000ff" stroke="#0000ff" stroke-width="2" points="4080.08,-1230.61 4069.56,-1231.89 4078.58,-1237.45 4080.08,-1230.61"/>
<text text-anchor="middle" x="4455.7" y="-1581.1" font-family="Arial" font-size="8.00">Execute: executeWithdrawal()</text>
</g>
<!-- Lender&#45;&gt;AccessControlHooks.sol -->
<g id="edge42" class="edge">
<title>Lender&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#0000ff" d="M4420.95,-1875.15C4466.84,-1808.6 4534.25,-1687.59 4509.32,-1578.95 4426.8,-1219.21 4309.27,-1080.01 3962.32,-954.11 3610.75,-826.53 2509.16,-789.98 2020.65,-779.91"/>
<polygon fill="#0000ff" stroke="#0000ff" points="2020.81,-776.42 2010.74,-779.71 2020.66,-783.41 2020.81,-776.42"/>
<text text-anchor="middle" x="4564.55" y="-1455.72" font-family="Arial" font-size="8.00">Request: pullProviderCredential()</text>
</g>
<!-- Fee Recipient&#45;&gt;WildcatMarket.sol -->
<g id="edge72" class="edge">
<title>Fee Recipient&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#daa520" stroke-width="2" d="M3794.54,-1493.11C3775.9,-1516.55 3747.76,-1546.16 3715.32,-1560.95 3642.92,-1593.96 3437.72,-1583.39 3358.32,-1588.7 2661.09,-1635.34 1823.84,-1677.79 1514.72,-1693"/>
<polygon fill="#daa520" stroke="#daa520" stroke-width="2" points="1516.34,-1689.42 1506.52,-1693.41 1516.68,-1696.41 1516.34,-1689.42"/>
<text text-anchor="middle" x="3666.07" y="-1581.1" font-family="Arial" font-size="8.00">Collect: collectFees()</text>
</g>
<!-- Role Provider&#45;&gt;AccessControlHooks.sol -->
<g id="edge41" class="edge">
<title>Role Provider&#45;&gt;AccessControlHooks.sol</title>
<path fill="none" stroke="#0000ff" d="M1055.07,-483.5C1049.86,-519.97 1050.27,-568.15 1079.82,-596.41 1117.31,-632.26 1497.02,-598.29 1546.32,-614.41 1574.14,-623.5 1601.72,-636.89 1627.69,-652.11"/>
<polygon fill="#0000ff" stroke="#0000ff" points="1625.88,-655.11 1636.26,-657.25 1629.48,-649.1 1625.88,-655.11"/>
<text text-anchor="middle" x="1121.07" y="-588.81" font-family="Arial" font-size="8.00">Credential: grantRole()</text>
</g>
<!-- SphereX Engine&#45;&gt;HooksFactory.sol -->
<g id="edge77" class="edge">
<title>SphereX Engine&#45;&gt;HooksFactory.sol</title>
<path fill="none" stroke="#9370db" stroke-dasharray="1,5" d="M3167.51,-2102.81C3242.21,-2071.99 3361.5,-2022.77 3454.51,-1984.4"/>
<polygon fill="#9370db" stroke="#9370db" points="3455.83,-1987.64 3463.74,-1980.59 3453.16,-1981.17 3455.83,-1987.64"/>
<text text-anchor="middle" x="3366.48" y="-2035.1" font-family="Arial" font-size="8.00">Protect: deployments</text>
</g>
<!-- SphereX Engine&#45;&gt;WildcatMarket.sol -->
<g id="edge76" class="edge">
<title>SphereX Engine&#45;&gt;WildcatMarket.sol</title>
<path fill="none" stroke="#9370db" stroke-dasharray="1,5" d="M3016.38,-2110.91C2939.92,-2090.64 2821.34,-2059.37 2718.32,-2032.95 2275.37,-1919.36 1747.98,-1788.67 1514.23,-1730.98"/>
<polygon fill="#9370db" stroke="#9370db" points="1515.34,-1727.65 1504.79,-1728.65 1513.66,-1734.44 1515.34,-1727.65"/>
<text text-anchor="middle" x="2674.68" y="-1924.22" font-family="Arial" font-size="8.00">Protect: all functions</text>
</g>
</g>
</svg>
